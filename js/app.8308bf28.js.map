{"version":3,"file":"js/app.8308bf28.js","mappings":"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","sources":["webpack://toa-loot-simulator/./src/App.vue","webpack://toa-loot-simulator/./src/LootSimulator.js","webpack://toa-loot-simulator/./src/App.vue?7ccd","webpack://toa-loot-simulator/./src/main.js","webpack://toa-loot-simulator/webpack/bootstrap","webpack://toa-loot-simulator/webpack/runtime/chunk loaded","webpack://toa-loot-simulator/webpack/runtime/compat get default export","webpack://toa-loot-simulator/webpack/runtime/define property getters","webpack://toa-loot-simulator/webpack/runtime/global","webpack://toa-loot-simulator/webpack/runtime/hasOwnProperty shorthand","webpack://toa-loot-simulator/webpack/runtime/jsonp chunk loading","webpack://toa-loot-simulator/webpack/startup"],"sourcesContent":["<!-- eslint-disable vue/no-unused-vars -->\n<template>\n  <div class=\"app-wrapper\">\n    <span id=\"tooltip\" class=\"custom-tooltip\"></span>\n\n    <a\n      class=\"switch-simulator\"\n      href=\"https://salverrs.github.io/cox-loot-simulator/\"\n    >\n      <span>CoX</span>\n      <svg\n        xmlns=\"http://www.w3.org/2000/svg\"\n        height=\"16px\"\n        viewBox=\"0 -960 960 960\"\n        width=\"16px\"\n        fill=\"#e8eaed\"\n      >\n        <path d=\"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z\" />\n      </svg>\n    </a>\n\n    <header>\n      <h1>Tombs of Amascut Loot Simulator</h1>\n    </header>\n\n    <div class=\"main-container\">\n      <!-- Parameters Input Section -->\n      <div class=\"parameters\">\n        <div class=\"parameter-controls\">\n          <label\n            >Raid Level:\n            <input\n              type=\"number\"\n              v-model.number=\"raidLevel\"\n              min=\"0\"\n              max=\"600\"\n              style=\"max-width: 6rem\"\n            />\n          </label>\n          <label\n            >Team Size:\n            <select\n              type=\"number\"\n              v-model.number=\"teamSize\"\n              style=\"max-width: 80px\"\n            >\n              <option value=\"1\">1</option>\n              <option value=\"2\">2</option>\n              <option value=\"3\">3</option>\n              <option value=\"4\">4</option>\n              <option value=\"5\">5</option>\n              <option value=\"6\">6</option>\n              <option value=\"7\">7</option>\n              <option value=\"8\">8</option>\n            </select>\n          </label>\n          <label\n            >Path Invocation Level:\n            <select v-model=\"pathInvocation\" style=\"max-width: 180px\">\n              <option value=\"0\">None</option>\n              <option value=\"1\">Pathseeker</option>\n              <option value=\"2\">Pathfinder</option>\n              <option value=\"3\">Pathmaster</option>\n            </select>\n          </label>\n\n          <label\n            >Walk the Path:\n            <select v-model=\"walkThePath\">\n              <option value=\"disabled\">Disabled</option>\n              <option value=\"enabled\">Enabled</option>\n            </select>\n          </label>\n\n          <label\n            >Warden P2:\n            <select v-model=\"wP2Type\">\n              <option value=\"2down\">2 Down</option>\n              <option value=\"3down\">3 Down</option>\n            </select>\n          </label>\n\n          <label\n            >Warden P3:\n            <select v-model=\"wP3Type\">\n              <option value=\"skullskipno\">No Skull Skip</option>\n              <option value=\"skullskipyes\">Skull Skip</option>\n            </select>\n          </label>\n\n          <label>\n            <span\n              class=\"dynamic-tooltip underlined\"\n              data-tooltip-content=\"Max point variance (%) range for variable point entities\"\n              >PV (%):</span\n            >\n            <input\n              type=\"number\"\n              v-model.number=\"variance\"\n              min=\"0\"\n              max=\"200\"\n              style=\"max-width: 80px\"\n            />\n          </label>\n\n          <label\n            >Rolls:\n            <input\n              type=\"number\"\n              v-model.number=\"numberOfRolls\"\n              min=\"1\"\n              max=\"10000\"\n              style=\"max-width: 80px\"\n            />\n          </label>\n        </div>\n\n        <div class=\"parameter-controls\">\n          <label\n            >Auto Roll Interval (ms):\n            <input\n              type=\"number\"\n              v-model.number=\"autoRollInterval\"\n              min=\"1\"\n              max=\"3600000\"\n              style=\"max-width: 100px\"\n            />\n          </label>\n          <label\n            >Auto Roll Stop:\n            <select v-model=\"autoRollStopCondition\">\n              <option value=\"never\">Never</option>\n              <option value=\"purple\">Purple</option>\n              <option value=\"pet\">Pet</option>\n              <option value=\"newCollectionLog\">New Collection Log</option>\n              <option value=\"allUniques\">All Purples</option>\n              <option value=\"log\">Green Logged</option>\n              <option value=\"chooseItemsAny\">Choose Items (Any)</option>\n              <option value=\"chooseItemsAll\">Choose Items (All)</option>\n            </select>\n          </label>\n\n          <!-- Checkboxes for Choose Items -->\n          <div\n            v-if=\"\n              autoRollStopCondition === 'chooseItemsAny' ||\n              autoRollStopCondition === 'chooseItemsAll'\n            \"\n            class=\"choose-items-container\"\n          >\n            <div class=\"checkboxes\">\n              <div\n                v-for=\"item in allCollLogItemsList\"\n                :key=\"item\"\n                class=\"checkbox-item\"\n              >\n                <label :class=\"{ 'greyed-out': collectionLog[item] }\">\n                  <input\n                    type=\"checkbox\"\n                    :value=\"item\"\n                    v-model=\"selectedItems\"\n                  />\n                  {{ item }}\n                </label>\n              </div>\n            </div>\n          </div>\n        </div>\n\n        <!-- Expected Purple Rate Display -->\n        <div class=\"expected-purple-rate\">\n          Estimated Purple Rate:&nbsp;\n          <span v-if=\"variance > 0\">\n            {{\n              formatPurpleRate(expectedPurpleRange.min, expectedPurpleRange.max)\n            }}\n          </span>\n          <span v-else>{{ expectedPurpleRange.max.toFixed(2) }}% </span>\n        </div>\n\n        <div class=\"parameter-generation\">\n          <!-- Roll and Reset Buttons -->\n          <button @click=\"simulateLoot\">Roll</button>\n\n          <!-- Start/Stop Auto Roll Button -->\n          <button\n            @click=\"autoRolling ? stopAutoRoll() : startAutoRoll()\"\n            :disabled=\"!canStartAutoRoll && !autoRolling\"\n            :class=\"{\n              'stop-button': autoRolling,\n              'disabled-button': !canStartAutoRoll && !autoRolling,\n            }\"\n          >\n            {{ autoRolling ? \"Stop Auto Roll\" : \"Start Auto Roll\" }}\n          </button>\n\n          <button @click=\"resetLoot\" style=\"background-color: orange\">\n            Reset\n          </button>\n        </div>\n      </div>\n\n      <span class=\"dynamic-tooltip\" data-tooltip-content=\"Toggle Info\">\n        <!-- Toggle Button for Extra Info -->\n        <button\n          @click=\"toggleExtraInfo\"\n          class=\"toggle-extra-info\"\n          aria-label=\"Toggle Info\"\n        >\n          <svg\n            xmlns=\"http://www.w3.org/2000/svg\"\n            width=\"16\"\n            height=\"16\"\n            fill=\"currentColor\"\n            class=\"bi bi-info-lg\"\n            viewBox=\"0 0 16 16\"\n          >\n            <path\n              d=\"m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0\"\n            />\n          </svg>\n        </button>\n      </span>\n\n      <!-- Extra Info Section -->\n      <div :class=\"['extra-info', showExtraInfo ? 'visible' : 'hidden']\">\n        <!-- <span v-if=\"entryModeCount > 0\">Entry KC: {{ entryModeCount }}</span>\n        <span v-if=\"normalModeCount > 0\">Normal KC: {{ normalModeCount }}</span>\n        <span v-if=\"expertModeCount > 0\">Expert KC: {{ expertModeCount }}</span> -->\n        <span\n          class=\"dynamic-tooltip underlined\"\n          data-tooltip-content=\"Estimations averaged across all rolls\"\n        >\n          Expected Purples: {{ expectedPurplePercent.toFixed(2) }}%\n        </span>\n        <span>Actual Purples: {{ actualPurplePercent.toFixed(2) }}%</span>\n        <span>Total Purples: {{ totalPurples }}</span>\n        <span>Dupe Purples: {{ dupesCount }}</span>\n        <span>Dry Streak: {{ dryStreak }}</span>\n        <span\n          class=\"dynamic-tooltip underlined\"\n          data-tooltip-content=\"Chance of receiving 1 or more purple (%)\"\n        >\n          Dryness: {{ drynessPercent.toFixed(2) }}%\n        </span>\n        <span>Longest Dry Streak: {{ longestDryStreak }}</span>\n        <span>Worst Dryness: {{ worstDryness.toFixed(2) }}%</span>\n        <span>Total Value: {{ formatTotalGP(totalLootValue) }}</span>\n        <span\n          class=\"dynamic-tooltip underlined\"\n          data-tooltip-content=\"Excluding Challenge Rewards and Icthlarin's shroud\"\n          >Logs Complete: {{ logsComplete }}/{{ totalLogs\n          }}<template v-if=\"logsComplete >= totalLogs\">\n            ({{ greenLoggedKc }}kc)</template\n          >\n        </span>\n      </div>\n\n      <div class=\"loot-panel-container\">\n        <!-- Loot Results Section (Current Roll) -->\n        <h2 class=\"title-text\">\n          Loot from {{ lastRolls }} {{ lastRolls === 1 ? \"roll\" : \"rolls\" }}\n        </h2>\n        <div\n          class=\"loot-results\"\n          :class=\"{\n            'no-border': !currentLoot.length,\n            'white-border':\n              currentLoot.length &&\n              !showHasPurpleBorder &&\n              !showNewCollectionLogBorder,\n            'coll-log-border':\n              currentLoot.length &&\n              !showHasPurpleBorder &&\n              showNewCollectionLogBorder,\n            'purple-border': showHasPurpleBorder,\n          }\"\n        >\n          <!-- Dropdown for Current Loot Sorting -->\n          <details\n            ref=\"currentSortDropdown\"\n            class=\"dropdown sort-dropdown\"\n            @click=\"handleClickInside('current')\"\n          >\n            <summary role=\"button\">\n              <i class=\"fa fa-sort\"></i>\n            </summary>\n            <ul>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionCurrent\"\n                    value=\"valueDesc\"\n                    @change=\"setSortOption('current', 'valueDesc')\"\n                    :checked=\"currentSortOption === 'valueDesc'\"\n                  />\n                  Value (Highest)\n                </label>\n              </li>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionCurrent\"\n                    value=\"valueAsc\"\n                    @change=\"setSortOption('current', 'valueAsc')\"\n                    :checked=\"currentSortOption === 'valueAsc'\"\n                  />\n                  Value (Lowest)\n                </label>\n              </li>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionCurrent\"\n                    value=\"obtainedDesc\"\n                    @change=\"setSortOption('current', 'obtainedDesc')\"\n                    :checked=\"currentSortOption === 'obtainedDesc'\"\n                  />\n                  Newest\n                </label>\n              </li>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionCurrent\"\n                    value=\"obtainedAsc\"\n                    @change=\"setSortOption('current', 'obtainedAsc')\"\n                    :checked=\"currentSortOption === 'obtainedAsc'\"\n                  />\n                  Oldest\n                </label>\n              </li>\n            </ul>\n          </details>\n\n          <!-- Loot Grid -->\n          <div v-if=\"currentLoot.length\" class=\"loot-grid\">\n            <div\n              v-for=\"(item, index) in sortedCurrentLoot\"\n              :key=\"item.itemName\"\n              class=\"loot-item\"\n            >\n              <a :href=\"item.url\" target=\"_blank\" style=\"text-decoration: none\">\n                <img\n                  :src=\"item.imageUrl\"\n                  :alt=\"item.itemName\"\n                  class=\"loot-image\"\n                  @mouseenter=\"\n                    (item.type === 'unique' || item.type === 'tertiary') &&\n                      showTooltip($event, getUniqueItemKC(item, true))\n                  \"\n                  @mousemove=\"\n                    (item.type === 'unique' || item.type === 'tertiary') &&\n                      moveTooltip($event)\n                  \"\n                  @mouseleave=\"\n                    (item.type === 'unique' || item.type === 'tertiary') &&\n                      hideTooltip()\n                  \"\n                />\n                <span\n                  v-if=\"item.quantity > 1\"\n                  :class=\"['quantity-text', formatQuantity(item).colorClass]\"\n                  >{{ formatQuantity(item).formattedQuantity }}</span\n                >\n              </a>\n            </div>\n          </div>\n          <p v-else class=\"subtitle-text\">No loot roll yet</p>\n        </div>\n\n        <!-- All Loot Results Section -->\n        <h2 class=\"title-text\">\n          Loot from {{ totalRollsDelayed }}\n          {{ totalRollsDelayed === 1 ? \"roll\" : \"rolls\" }}\n        </h2>\n        <div class=\"all-loot\">\n          <!-- Dropdown for All Loot Sorting -->\n          <details\n            ref=\"allSortDropdown\"\n            class=\"dropdown sort-dropdown\"\n            @click=\"handleClickInside('all')\"\n          >\n            <summary role=\"button\">\n              <i class=\"fa fa-sort\"></i>\n            </summary>\n            <ul>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionAll\"\n                    value=\"valueDesc\"\n                    @change=\"setSortOption('all', 'valueDesc')\"\n                    :checked=\"allSortOption === 'valueDesc'\"\n                  />\n                  Value (Highest)\n                </label>\n              </li>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionAll\"\n                    value=\"valueAsc\"\n                    @change=\"setSortOption('all', 'valueAsc')\"\n                    :checked=\"allSortOption === 'valueAsc'\"\n                  />\n                  Value (Lowest)\n                </label>\n              </li>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionAll\"\n                    value=\"obtainedDesc\"\n                    @change=\"setSortOption('all', 'obtainedDesc')\"\n                    :checked=\"allSortOption === 'obtainedDesc'\"\n                  />\n                  Newest\n                </label>\n              </li>\n              <li>\n                <label>\n                  <input\n                    type=\"radio\"\n                    name=\"sortOptionAll\"\n                    value=\"obtainedAsc\"\n                    @change=\"setSortOption('all', 'obtainedAsc')\"\n                    :checked=\"allSortOption === 'obtainedAsc'\"\n                  />\n                  Oldest\n                </label>\n              </li>\n            </ul>\n          </details>\n\n          <!-- Loot Grid -->\n          <div v-if=\"allLoot.length\" class=\"loot-grid\">\n            <div\n              v-for=\"(item, index) in sortedAllLoot\"\n              :key=\"item.itemName\"\n              class=\"loot-item\"\n            >\n              <a :href=\"item.url\" target=\"_blank\" style=\"text-decoration: none\">\n                <img\n                  :src=\"item.imageUrl\"\n                  :alt=\"item.itemName\"\n                  class=\"loot-image\"\n                  @mouseenter=\"\n                    (item.type === 'unique' || item.type === 'tertiary') &&\n                      showTooltip($event, getUniqueItemKC(item, true))\n                  \"\n                  @mousemove=\"\n                    (item.type === 'unique' || item.type === 'tertiary') &&\n                      moveTooltip($event)\n                  \"\n                  @mouseleave=\"\n                    (item.type === 'unique' || item.type === 'tertiary') &&\n                      hideTooltip()\n                  \"\n                />\n                <span\n                  v-if=\"item.quantity > 1\"\n                  :class=\"['quantity-text', formatQuantity(item).colorClass]\"\n                  >{{ formatQuantity(item).formattedQuantity }}</span\n                >\n              </a>\n            </div>\n          </div>\n          <p v-else class=\"subtitle-text\">No loot results yet</p>\n        </div>\n\n        <h2 class=\"title-text\">\n          Collection Log\n          <span\n            :style=\"{\n              color: logsCompleteDelayed >= totalLogs ? '#6bb537' : '',\n            }\"\n            >({{ logsCompleteDelayed }}/{{ totalLogs }})</span\n          >\n        </h2>\n\n        <div class=\"collection-log\">\n          <!-- Loot Grid for Collection Log Items -->\n          <div v-if=\"allCollLogItemsList.length\" class=\"loot-grid\">\n            <div\n              v-for=\"item in allCollLogItemsList\"\n              :key=\"item\"\n              class=\"loot-item\"\n              :class=\"{\n                'obtained-item': isItemObtained(item), // Normal style for obtained items\n                'not-obtained-item': !isItemObtained(item), // Opaque style for not obtained items\n              }\"\n            >\n              <!-- Wrap the image and quantity inside an anchor tag to link to the wiki page -->\n              <a\n                :href=\"getItemUrl(item)\"\n                target=\"_blank\"\n                style=\"text-decoration: none\"\n              >\n                <img\n                  :src=\"getItemImage(item)\"\n                  :alt=\"item\"\n                  class=\"loot-image\"\n                  @mouseenter=\"showTooltip($event, getUniqueItemKCByName(item))\"\n                  @mousemove=\"moveTooltip($event)\"\n                  @mouseleave=\"hideTooltip\"\n                />\n                <!-- Show quantity if obtained, otherwise don't display -->\n                <span\n                  v-if=\"getItemQuantity(item) > 1\"\n                  :class=\"[\n                    'quantity-text',\n                    formatQuantity({\n                      itemName: item,\n                      quantity: getItemQuantity(item),\n                    }).colorClass,\n                  ]\"\n                >\n                  {{\n                    formatQuantity({\n                      itemName: item,\n                      quantity: getItemQuantity(item),\n                    }).formattedQuantity\n                  }}\n                </span>\n              </a>\n            </div>\n          </div>\n          <p v-else class=\"subtitle-text\">No collection log items</p>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<script>\nimport LootSimulator from \"./LootSimulator\";\nexport default {\n  data() {\n    return {\n      raidLevel: 300,\n      teamSize: 1,\n      pathInvocation: 0,\n      walkThePath: \"disabled\",\n      wP2Type: \"2down\",\n      wP3Type: \"skullskipno\",\n      numberOfRolls: 1,\n      lastRolls: 0,\n      currentLoot: [],\n      allLoot: [],\n      totalRolls: 0,\n      totalRollsDelayed: 0,\n      rollExecuted: false,\n      hasPurple: false,\n      newCollectionLog: false,\n      showHasPurpleBorder: false,\n      showNewCollectionLogBorder: false,\n      lootSimulator: null,\n      dryStreak: 0,\n      longestDryStreak: 0, // Longest dry streak\n      drynessPercent: 0,\n      worstDryness: 0, // Worst dryness percentage\n      logsComplete: 0, // Number of completed collection logs\n      logsCompleteDelayed: 0,\n      greenLoggedKc: -1,\n      totalLogs: 12, // 7 unique items + tertiarys\n      variance: 5,\n      rollHistory: [],\n      autoRolling: false,\n      autoRollInterval: 300, // Default interval in milliseconds\n      stopOnPurple: true,\n      autoRollTimer: null,\n      totalPurples: 0,\n      itemKCs: {}, // Tracks KCs for unique items\n      currentitemKCs: {}, // Tracks KCs for unique items obtained in the current roll(s)\n      petObtained: false, // Tracks if the pet has been obtained\n      showExtraInfo: false, // Controls visibility of extra info\n      autoRollStopCondition: \"purple\", // Default to 'never',\n      collectionLog: {}, // Initialize as an empty object\n      uniqueItemsList: [\n        \"Tumeken's shadow\",\n        \"Masori mask\",\n        \"Masori body\",\n        \"Masori chaps\",\n        \"Elidinis' ward\",\n        \"Osmumten's fang\",\n        \"Lightbearer\",\n      ],\n      tertiaryItemsList: [\n        \"Tumeken's guardian\", // Pet,\n        \"Thread of elidinis\",\n        \"Eye of the corruptor\",\n        \"Jewel of the sun\",\n        \"Breach of the scarab\",\n      ],\n      allCollLogItemsList: [\n        \"Tumeken's shadow\",\n        \"Masori mask\",\n        \"Masori body\",\n        \"Masori chaps\",\n        \"Elidinis' ward\",\n        \"Osmumten's fang\",\n        \"Lightbearer\",\n        \"Tumeken's guardian\", // Pet,\n        \"Thread of elidinis\",\n        \"Eye of the corruptor\",\n        \"Jewel of the sun\",\n        \"Breach of the scarab\",\n      ],\n      selectedItems: [], // Holds the selected items for 'Choose Items' option,\n      threadObtained: false,\n      jewelsObtained: [], // List of jewel names,\n      sortOptions: {\n        current: \"valueDesc\", // Default sort option for current loot\n        all: \"valueDesc\", // Default sort option for all loot\n      },\n      // Store acquired dates\n      acquiredDates: {\n        current: {},\n        all: {},\n      },\n      currentSortOption: \"valueDesc\", // Default to Value (High) for current loot\n      allSortOption: \"valueDesc\", // Default to Value (High) for all loot\n      activeDropdown: null, // To track active dropdown,\n      imageCache: new Set(),\n      imageCacheRefs: new Set(),\n      entryModeCount: 0,\n      normalModeCount: 0,\n      expertModeCount: 0,\n      expectedPurplePercent: 0, // Expected Purple %\n      actualPurplePercent: 0, // Actual Purple %\n      totalPurpleChanceSum: 0, // Cumulative sum of purple chances\n      dupesCount: 0, // Total number of dupes\n      imageList: [\n        \"Battlestaff.png\",\n        \"Blood_essence.png\",\n        \"Breach_of_the_scarab.png\",\n        \"Cache_of_runes.png\",\n        \"Cactus_spine.png\",\n        \"Clue_scroll_(elite).png\",\n        \"Coconut_milk.png\",\n        \"Coins.png\",\n        \"Death_rune.png\",\n        \"Diamond.png\",\n        \"Dragonstone.png\",\n        \"Dragon_dart_tip.png\",\n        \"Dragon_med_helm.png\",\n        \"Elidinis'_ward.png\",\n        \"Emerald.png\",\n        \"Eye_of_the_corruptor.png\",\n        \"Gold_bar.png\",\n        \"Gold_ore.png\",\n        \"Jewel_of_the_sun.png\",\n        \"Lightbearer.png\",\n        \"Lily_of_the_sands.png\",\n        \"Magic_seed.png\",\n        \"Mahogany_logs.png\",\n        \"Masori_body.png\",\n        \"Masori_chaps.png\",\n        \"Masori_mask.png\",\n        \"Osmumten's_fang.png\",\n        \"Potato_cactus.png\",\n        \"Ranarr_seed.png\",\n        \"Raw_manta_ray.png\",\n        \"Raw_shark.png\",\n        \"Ruby.png\",\n        \"Sapphire.png\",\n        \"Snapdragon_seed.png\",\n        \"Soul_rune.png\",\n        \"Thread_of_elidinis.png\",\n        \"Toadflax_seed.png\",\n        \"Torstol_seed.png\",\n        \"Tumeken's_guardian.png\",\n        \"Tumeken's_shadow.png\",\n      ],\n    };\n  },\n  computed: {\n    expectedPurpleRange() {\n      // Ensure the lootSimulator is correctly initialized before calling this\n      if (!this.lootSimulator) return { min: 0, max: 0 };\n      const range = this.lootSimulator.getExpectedPurpleRange();\n      return {\n        min: range.min,\n        max: range.max,\n      };\n    },\n    canStartAutoRoll() {\n      if (\n        (this.autoRollStopCondition === \"chooseItemsAny\" ||\n          this.autoRollStopCondition === \"chooseItemsAll\") &&\n        (!this.selectedItems || this.selectedItems.length === 0)\n      ) {\n        return false;\n      }\n      return !this.isOneTimeAutoRollStopConditionMet();\n    },\n    sortedCurrentLoot() {\n      return this.sortLoot(this.currentLoot, this.currentSortOption);\n    },\n    sortedAllLoot() {\n      return this.sortLoot(this.allLoot, this.allSortOption);\n    },\n    totalLootValue() {\n      return this.allLoot.reduce((total, item) => {\n        return total + item.itemValue * item.quantity;\n      }, 0);\n    },\n  },\n  created() {\n    // Load sorting options from localStorage or default to 'valueDesc'\n    const savedCurrentSortOption = localStorage.getItem(\"currentSortOption\");\n    const savedAllSortOption = localStorage.getItem(\"allSortOption\");\n\n    // Initialize with saved options or defaults\n    this.currentSortOption = savedCurrentSortOption || \"valueDesc\";\n    this.allSortOption = savedAllSortOption || \"valueDesc\";\n\n    // Apply initial sorting\n    this.applySorting(\"current\");\n    this.applySorting(\"all\");\n\n    const savedParameters = localStorage.getItem(\"savedParameters\");\n    if (savedParameters) {\n      const params = JSON.parse(savedParameters);\n\n      // Load parameters with type checking\n      this.numberOfRolls =\n        params.numberOfRolls !== undefined ? parseInt(params.numberOfRolls) : 1;\n      this.autoRollStopCondition = params.autoRollStopCondition || \"purple\";\n      this.raidLevel =\n        params.raidLevel !== undefined ? parseInt(params.raidLevel) : 300;\n      this.teamSize =\n        params.teamSize !== undefined ? parseInt(params.teamSize) : 1;\n      this.pathInvocation =\n        params.pathInvocation !== undefined\n          ? parseInt(params.pathInvocation)\n          : 0;\n      this.walkThePath =\n        params.walkThePath !== undefined ? params.walkThePath : \"disabled\";\n      this.wP2Type = params.wP2Type !== undefined ? params.wP2Type : \"2down\";\n      this.wP3Type =\n        params.wP3Type !== undefined ? params.wP3Type : \"skullskipno\";\n      this.variance =\n        params.variance !== undefined ? parseInt(params.variance) : 5;\n      this.autoRollInterval =\n        params.autoRollInterval !== undefined\n          ? parseInt(params.autoRollInterval)\n          : 300;\n      this.selectedItems =\n        params.selectedItems !== undefined ? params.selectedItems : [];\n    }\n\n    // Initialize the loot simulator with loaded parameters\n    this.initializeLootSimulator();\n  },\n  watch: {\n    autoRollStopCondition: \"saveParameters\",\n    raidLevel() {\n      this.validateMinMax(\"raidLevel\", 0, 600);\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    teamSize() {\n      this.validateMinMax(\"teamSize\", 1, 8);\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    pathInvocation() {\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    walkThePath() {\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    wP2Type() {\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    wP3Type() {\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    variance() {\n      this.validateMinMax(\"variance\", 0, 200);\n      this.saveParameters();\n      this.refreshLootSimulator();\n    },\n    numberOfRolls() {\n      this.validateMinMax(\"numberOfRolls\", 1, 10000);\n      this.saveParameters();\n    },\n    autoRollInterval() {\n      this.validateMinMax(\"autoRollInterval\", 1, 3600000);\n      this.saveParameters();\n    },\n    selectedItems: {\n      // eslint-disable-next-line no-unused-vars\n      handler(newVal) {\n        this.saveParameters();\n      },\n      deep: true,\n    },\n  },\n  mounted() {\n    this.preloadImages(); // Preload images when the component mounts\n\n    setTimeout(() => {\n      this.preloadImages();\n    }, 500);\n\n    // Get references to all elements with the class 'dynamic-tooltip'\n    const tooltip = document.getElementById(\"tooltip\");\n    const tooltipElements = document.querySelectorAll(\".dynamic-tooltip\");\n\n    tooltipElements.forEach((element) => {\n      const tooltipContent = element.getAttribute(\"data-tooltip-content\");\n\n      // Event listener for mouse hover over the dynamic-tooltip element\n      element.addEventListener(\"mouseenter\", () => {\n        // Set the tooltip content dynamically from the data attribute\n        tooltip.textContent = tooltipContent;\n        tooltip.style.display = \"block\";\n      });\n\n      // Event listener to update the position of the tooltip based on the mouse\n      element.addEventListener(\"mousemove\", (event) => {\n        // Set the tooltip position relative to the mouse cursor\n        tooltip.style.left = `${event.pageX + 15}px`; // 15px to the right of the cursor\n        tooltip.style.top = `${event.pageY - 25}px`; // 25px above the cursor\n      });\n\n      // Event listener to hide the tooltip when leaving the element\n      element.addEventListener(\"mouseleave\", () => {\n        tooltip.style.display = \"none\";\n      });\n    });\n\n    document.addEventListener(\"click\", this.handleClickOutside);\n  },\n  beforeUnmount() {\n    this.stopAutoRoll();\n    document.removeEventListener(\"click\", this.handleClickOutside);\n  },\n  methods: {\n    validateMinMax(field, min, max) {\n      if (this[field] < min) {\n        this[field] = min;\n      } else if (this[field] > max) {\n        this[field] = max;\n      }\n    },\n    formatPurpleRate(min, max) {\n      // Try comparing with two decimal places\n      if (min.toFixed(2) != max.toFixed(2)) {\n        return `${min.toFixed(2)}% - ${max.toFixed(2)}%`;\n      }\n      // Try comparing with three decimal places\n      else if (min.toFixed(3) !== max.toFixed(3)) {\n        return `${min.toFixed(3)}% - ${max.toFixed(3)}%`;\n      }\n      // Default to four decimal places comparison\n      else if (min.toFixed(4) !== max.toFixed(4)) {\n        return `${min.toFixed(4)}% - ${max.toFixed(4)}%`;\n      } else {\n        return `~${min.toFixed(2)}%`;\n      }\n    },\n    isItemObtained(item) {\n      return this.allLoot.some((lootItem) => lootItem.itemName === item);\n    },\n    // Get quantity for the item from allLoot\n    getItemQuantity(item) {\n      const loot = this.allLoot.find((lootItem) => lootItem.itemName === item);\n      return loot ? loot.quantity : 0;\n    },\n    // Get the KC for an item based on its name\n    getUniqueItemKCByName(itemName) {\n      const itemObject = this.allLoot.find(\n        (lootItem) => lootItem.itemName === itemName\n      );\n\n      if (!itemObject) return \"\"; // Return empty string if item not found\n\n      // Now pass the object to the existing method to retrieve KCs\n      return this.getUniqueItemKC(itemObject, false);\n    },\n    getItemImage(item) {\n      return `images/${item.replace(/\\s/g, \"_\")}.png`;\n    },\n    getItemUrl(itemName) {\n      return `https://oldschool.runescape.wiki/w/${itemName.replace(\n        /\\s/g,\n        \"_\"\n      )}`;\n    },\n    preloadImages() {\n      this.imageList.forEach((image) => {\n        const img = new Image();\n        img.src = `images/${image}`; // Modify the path if needed\n      });\n    },\n    preloadLootImages(lootItems) {\n      return new Promise((resolve) => {\n        let loadedCount = 0;\n\n        // Filter loot items to preload only uncached images\n        const uncachedImages = lootItems.filter(\n          (item) => !this.imageCache.has(item.imageUrl)\n        );\n        const totalUncached = uncachedImages.length;\n\n        // If all images are cached, resolve immediately\n        if (totalUncached === 0) {\n          resolve();\n          return;\n        }\n\n        // Preload uncached images\n        uncachedImages.forEach((item) => {\n          const img = new Image();\n          img.src = item.imageUrl;\n\n          img.onload = img.onerror = () => {\n            loadedCount++;\n            this.imageCacheRefs.add(img);\n            this.imageCache.add(item.imageUrl); // Cache the image URL after loading\n\n            if (loadedCount === totalUncached) {\n              resolve(); // Resolve when all uncached images are preloaded\n            }\n          };\n        });\n      });\n    },\n    handleClickInside(lootType) {\n      // Handle click inside the dropdown\n      this.activeDropdown = lootType;\n    },\n    handleClickOutside(event) {\n      const currentDropdown = this.$refs.currentSortDropdown;\n      const allDropdown = this.$refs.allSortDropdown;\n\n      if (\n        this.activeDropdown &&\n        !currentDropdown.contains(event.target) &&\n        !allDropdown.contains(event.target)\n      ) {\n        // Close both dropdowns if clicked outside\n        currentDropdown.removeAttribute(\"open\");\n        allDropdown.removeAttribute(\"open\");\n        this.activeDropdown = null;\n      }\n    },\n    setSortOption(lootType, sortOption) {\n      if (lootType === \"current\") {\n        this.currentSortOption = sortOption;\n        localStorage.setItem(\"currentSortOption\", sortOption);\n        this.applySorting(\"current\");\n        this.$refs.currentSortDropdown.removeAttribute(\"open\"); // Close the dropdown\n      } else if (lootType === \"all\") {\n        this.allSortOption = sortOption;\n        localStorage.setItem(\"allSortOption\", sortOption);\n        this.applySorting(\"all\");\n        this.$refs.allSortDropdown.removeAttribute(\"open\"); // Close the dropdown\n      }\n    },\n\n    // Method to apply sorting to either 'current' or 'all' loot\n    applySorting(lootType) {\n      if (lootType === \"current\") {\n        this.currentLoot = this.sortLoot(\n          this.currentLoot,\n          this.currentSortOption\n        );\n      } else if (lootType === \"all\") {\n        this.allLoot = this.sortLoot(this.allLoot, this.allSortOption);\n      }\n    },\n\n    sortLoot(loot, sortOption) {\n      if (!loot || loot.length === 0) return [];\n\n      if (sortOption === \"valueDesc\") {\n        return loot.sort(\n          (a, b) => b.itemValue * b.quantity - a.itemValue * a.quantity\n        ); // Sort by total value, highest first\n      } else if (sortOption === \"valueAsc\") {\n        return loot.sort(\n          (a, b) => a.itemValue * a.quantity - b.itemValue * b.quantity\n        ); // Sort by total value, lowest first\n      } else if (sortOption === \"obtainedDesc\") {\n        return loot.sort((a, b) => {\n          const dateA = a.acquiredDate || 0;\n          const dateB = b.acquiredDate || 0;\n          return dateB - dateA; // Newest first\n        });\n      } else if (sortOption === \"obtainedAsc\") {\n        return loot.sort((a, b) => {\n          const dateA = a.acquiredDate || 0;\n          const dateB = b.acquiredDate || 0;\n          return dateA - dateB; // Oldest first\n        });\n      }\n    },\n    formatQuantity(item) {\n      const quantity = item.quantity;\n      let formattedQuantity = quantity.toString(); // Default to normal number\n      let colorClass = \"yellow\"; // Default color\n\n      if (quantity >= 10000000000) {\n        formattedQuantity = `${Math.floor(quantity / 1000000000)}b`; // Format in billions\n        colorClass = \"green\"; // Color for billion values\n      } else if (quantity >= 10000000) {\n        formattedQuantity = `${Math.floor(quantity / 1000000)}m`; // Format in millions\n        colorClass = \"green\"; // Color for million values\n      } else if (quantity >= 100000) {\n        formattedQuantity = `${Math.floor(quantity / 1000)}k`; // Format in thousands\n        colorClass = \"white\"; // Color for thousand values\n      }\n\n      return { formattedQuantity, colorClass };\n    },\n    formatTotalGP(value) {\n      let formattedValue = value.toString(); // Default to normal number\n\n      if (value >= 10000000000) {\n        formattedValue = `${Math.floor(value / 1000000000)}b`; // Format in billions\n      } else if (value >= 10000000) {\n        formattedValue = `${Math.floor(value / 1000000)}m`; // Format in millions\n      } else if (value >= 100000) {\n        formattedValue = `${Math.floor(value / 1000)}k`; // Format in thousands\n      }\n\n      return formattedValue; // Return formatted string\n    },\n    saveParameters() {\n      const parameters = {\n        numberOfRolls: this.numberOfRolls,\n        autoRollStopCondition: this.autoRollStopCondition,\n        raidLevel: this.raidLevel,\n        teamSize: this.teamSize,\n        pathInvocation: this.pathInvocation,\n        walkThePath: this.walkThePath,\n        wP2Type: this.wP2Type,\n        wP3Type: this.wP3Type,\n        variance: this.variance,\n        autoRollInterval: this.autoRollInterval,\n        selectedItems:\n          this.autoRollStopCondition === \"chooseItemsAny\" ||\n          this.autoRollStopCondition === \"chooseItemsAll\"\n            ? this.selectedItems\n            : [],\n      };\n      localStorage.setItem(\"savedParameters\", JSON.stringify(parameters));\n    },\n\n    initializeLootSimulator() {\n      this.lootSimulator = new LootSimulator(\n        this.raidLevel,\n        this.teamSize,\n        this.pathInvocation,\n        this.walkThePath === \"enabled\",\n        this.wP2Type,\n        this.wP3Type,\n        this.variance\n      );\n    },\n    getUniqueItemKC(item, highlightCurrentKCs = false) {\n      const maxKCShown = 8;\n      if (item.type === \"unique\" || item.type === \"tertiary\") {\n        const allKCs = this.itemKCs[item.itemName] || [];\n        let kcList;\n\n        if (allKCs.length > 0) {\n          // Get the first KC\n          const firstKC = allKCs[0];\n\n          if (highlightCurrentKCs) {\n            const currentKCs = this.currentitemKCs[item.itemName] || [];\n            const currentKCsSet = new Set(currentKCs.map(Number));\n\n            // Slice the last 10 KCs\n            const lastKCs = allKCs.slice(-maxKCShown);\n\n            // Map and highlight the current KCs\n            kcList = lastKCs\n              .map((kc) => {\n                const kcNum = Number(kc);\n                if (currentKCsSet.has(kcNum)) {\n                  return `[${kc}]`; // Highlight current KC\n                }\n                return kc;\n              })\n              .join(\", \");\n\n            // Add omission indicator with the first KC if necessary\n            return allKCs.length > maxKCShown\n              ? `KC: ${firstKC}, ..., ${kcList}`\n              : `KC: ${kcList}`;\n          } else {\n            // Slice the last 10 KCs without highlighting\n            kcList = allKCs.slice(-maxKCShown).join(\", \");\n\n            // Add omission indicator with the first KC if necessary\n            return allKCs.length > maxKCShown\n              ? `KC: ${firstKC}, ..., ${kcList}`\n              : `KC: ${kcList}`;\n          }\n        }\n      }\n      return \"\"; // Return empty string if not a unique or tertiary\n    },\n    toggleExtraInfo() {\n      this.showExtraInfo = !this.showExtraInfo;\n    },\n    refreshLootSimulator() {\n      this.lootSimulator.raidLevel = parseInt(this.raidLevel, 10);\n      this.lootSimulator.teamSize = parseInt(this.teamSize, 10);\n      this.lootSimulator.pathInvocation = parseInt(this.pathInvocation, 10);\n      this.lootSimulator.walkThePath = this.walkThePath === \"enabled\"; // Convert string to boolean\n      this.lootSimulator.wP2Type = this.wP2Type;\n      this.lootSimulator.wP3Type = this.wP3Type;\n      this.lootSimulator.variance = this.variance; // Pass the variance value\n      this.lootSimulator.refreshPointEntities();\n    },\n    async simulateLoot() {\n      if (this.isSimulating) return; // Prevent running multiple simulations at once\n      this.isSimulating = true; // Set flag to indicate simulation is running\n\n      // Update obtained timestamps for current loot\n      //const currentTimestamp = Date.now(); // Use a timestamp for sorting\n\n      this.refreshLootSimulator();\n\n      const combinedCurrentRolls = {};\n      this.hasPurple = false; // Reset purple check for each roll\n      this.newCollectionLog = false;\n\n      const startingTotalRolls = this.totalRolls;\n      // Clear current unique item KCs\n      this.currentitemKCs = {};\n      this.acquiredDates.current = {};\n\n      let currentPurpleChanceSum = 0;\n\n      for (let i = 0; i < this.numberOfRolls; i++) {\n        this.totalRolls++;\n\n        if (this.lootSimulator.raidLevel < 150) {\n          this.entryModeCount++;\n        } else if (this.lootSimulator.raidLevel < 300) {\n          this.normalModeCount++;\n        } else {\n          this.expertModeCount++;\n        }\n\n        const currentKC = startingTotalRolls + i + 1; // Calculate current KC\n        const currentTimestamp = Date.now() + i * 1000; // Add i seconds to ensure ordering\n\n        const result = this.lootSimulator.simulateLootRoll(\n          this.totalRolls,\n          this.threadObtained,\n          [...this.jewelsObtained] // Pass a copy to prevent mutation\n        );\n\n        // Update threadObtained and jewelsObtained based on the results\n        this.threadObtained = result.threadObtained;\n        this.jewelsObtained = result.jewelsObtained;\n\n        const lootResults = result.lootResults;\n        const purpleChance = this.lootSimulator.getRewardPool(\n          result.totalPoints\n        ).purpleChance;\n\n        currentPurpleChanceSum += purpleChance; // Sum the purple chances for each roll\n\n        // Calculate probability of getting 1 or more drops, i.e. 1 - P(0 drops)\n        const probabilityOfOneOrMoreDrops = 1 - Math.pow(1 - purpleChance, 1);\n\n        let foundPurple = false; // Track if purple loot was found in this roll\n\n        // Store the current roll's purple chance and the probability of 1 or more drops\n        this.rollHistory.push({\n          raidLevel: this.raidLevel,\n          teamSize: this.teamSize,\n          pathInvocation: this.pathInvocation,\n          walkThePath: this.walkThePath,\n          wP2Type: this.wP2Type,\n          wP3Type: this.wP3Type,\n          purpleChance: purpleChance,\n          probabilityOfOneOrMoreDrops: probabilityOfOneOrMoreDrops,\n        });\n\n        lootResults.forEach((item) => {\n          if (item.type === \"unique\" || item.type === \"tertiary\") {\n            if (item.type === \"unique\") {\n              this.hasPurple = true;\n              foundPurple = true;\n            }\n\n            if (item.itemName === \"Tumeken's guardian\") {\n              this.petObtained = true;\n            }\n\n            if (!this.itemKCs[item.itemName]) {\n              this.itemKCs[item.itemName] = [];\n            }\n            this.itemKCs[item.itemName].push(currentKC);\n\n            // Also record in currentitemKCs\n            if (!this.currentitemKCs[item.itemName]) {\n              this.currentitemKCs[item.itemName] = [];\n            }\n            this.currentitemKCs[item.itemName].push(currentKC);\n          }\n\n          // Ensure each item has an acquiredDate\n          item.acquiredDate = currentTimestamp;\n\n          // Add or update item in combinedCurrentRolls\n          if (combinedCurrentRolls[item.itemName]) {\n            // Update quantity and acquiredDate if the item exists\n            combinedCurrentRolls[item.itemName].quantity += item.quantity;\n            combinedCurrentRolls[item.itemName].acquiredDate = currentTimestamp; // Always update to latest timestamp\n          } else {\n            combinedCurrentRolls[item.itemName] = { ...item };\n          }\n        });\n\n        // Update longest dry streak if the streak is updated\n        if (!foundPurple) {\n          this.dryStreak += 1;\n          if (this.dryStreak > this.longestDryStreak) {\n            this.longestDryStreak = this.dryStreak;\n          }\n        } else {\n          this.totalPurples += 1; // Increment total purples\n          this.dryStreak = 0;\n          this.rollHistory = []; // Clear roll history on drop\n        }\n\n        // Calculate dryness percentage based on roll history\n        this.drynessPercent = this.calculateOverallDrynessPercent();\n\n        // Update the worst dryness percentage if the current one is higher\n        if (parseFloat(this.drynessPercent) > parseFloat(this.worstDryness)) {\n          this.worstDryness = this.drynessPercent;\n        }\n\n        // Update collection log completion count\n        this.updateCollectionLog(lootResults);\n      }\n\n      // Add current simulation's purple chances to the total sum across the session\n      this.totalPurpleChanceSum += currentPurpleChanceSum;\n\n      // Preload the images before updating the loot\n      await this.preloadLootImages(Object.values(combinedCurrentRolls));\n\n      this.totalRollsDelayed = this.totalRolls;\n      this.logsCompleteDelayed = this.logsComplete;\n      this.showHasPurpleBorder = this.hasPurple;\n      this.showNewCollectionLogBorder = this.newCollectionLog;\n      this.currentLoot = Object.values(combinedCurrentRolls);\n\n      this.mergeLootResults(this.currentLoot);\n\n      this.lastRolls = this.numberOfRolls;\n      this.rollExecuted = true;\n\n      // Calculate expected purple percentage\n      if (this.totalRolls > 0) {\n        this.expectedPurplePercent =\n          (this.totalPurpleChanceSum / this.totalRolls) * 100;\n      } else {\n        this.expectedPurplePercent = 0.0; // Avoid division by zero\n      }\n\n      // Calculate actual purple percentage\n      if (this.totalRolls > 0) {\n        this.actualPurplePercent = (this.totalPurples / this.totalRolls) * 100;\n      } else {\n        this.actualPurplePercent = 0.0; // Avoid division by zero\n      }\n\n      this.recheckAutoCondition();\n\n      // Calculate dupes\n      this.calculateDupes();\n\n      this.isSimulating = false; // Reset the flag after simulation completes\n    },\n    recheckAutoCondition() {\n      if (\n        this.autoRollStopCondition === \"chooseItemsAny\" &&\n        this.selectedItems.some((selectedItem) =>\n          this.currentLoot.some((loot) => loot.itemName === selectedItem)\n        )\n      ) {\n        this.stopAutoRoll();\n      } else if (\n        this.autoRollStopCondition === \"newCollectionLog\" &&\n        this.newCollectionLog\n      ) {\n        this.stopAutoRoll();\n      } else if (this.autoRollStopCondition === \"purple\" && this.hasPurple) {\n        this.stopAutoRoll();\n      } else if (this.isOneTimeAutoRollStopConditionMet()) {\n        this.stopAutoRoll();\n      }\n    },\n    calculateDupes() {\n      let totalDupes = 0;\n\n      // Loop through all unique (purple) items only\n      this.uniqueItemsList.forEach((item) => {\n        const quantity = this.getItemQuantity(item); // Assuming getItemQuantity fetches the total amount\n\n        if (quantity > 1) {\n          // Count extras (duplicates) as dupes\n          totalDupes += quantity - 1;\n        }\n      });\n\n      // Update the dupes count with the total calculated value\n      this.dupesCount = totalDupes;\n    },\n    calculateOverallDrynessPercent() {\n      let cumulativeDrynessProbability = 1;\n\n      // Loop through each roll in history\n      for (let roll of this.rollHistory) {\n        const purpleChance = roll.purpleChance;\n        const probabilityOfZeroDrops = Math.pow(1 - purpleChance, 1); // P(0 drops) for each roll\n\n        // Multiply dry probability for each roll\n        cumulativeDrynessProbability *= probabilityOfZeroDrops;\n      }\n\n      const drynessPercent = (1 - cumulativeDrynessProbability) * 100; // Convert to percentage\n      return drynessPercent; // Return result as a percentage\n    },\n    mergeLootResults(newLoot) {\n      newLoot.forEach((newItem) => {\n        const index = this.allLoot.findIndex(\n          (item) => item.itemName === newItem.itemName\n        );\n        if (index !== -1) {\n          const existingItem = this.allLoot[index];\n          const updatedItem = {\n            ...existingItem,\n            quantity: existingItem.quantity + newItem.quantity,\n            type: newItem.type, // Ensure type is updated\n            acquiredDate: newItem.acquiredDate, // Update to latest acquisition date\n          };\n          this.allLoot.splice(index, 1, updatedItem);\n        } else {\n          this.allLoot.push({ ...newItem });\n        }\n      });\n    },\n    updateCollectionLog(lootResults) {\n      lootResults.forEach((loot) => {\n        if (\n          (loot.type === \"unique\" || loot.type === \"tertiary\") &&\n          loot.itemName !== \"Clue scroll (elite)\"\n        ) {\n          // If the item is not yet in the collection log, mark it as newly added\n          if (!this.collectionLog[loot.itemName]) {\n            this.collectionLog[loot.itemName] = true;\n            this.newCollectionLog = true;\n          }\n        }\n      });\n\n      // Update logsComplete count\n      this.logsComplete = Object.keys(this.collectionLog).length;\n\n      if (this.logsComplete >= this.totalLogs && this.greenLoggedKc == -1) {\n        this.greenLoggedKc = this.totalRolls;\n      }\n    },\n    // Reset Loot Data Without Affecting Parameters\n    resetLoot() {\n      this.stopAutoRoll();\n      this.currentLoot = [];\n      this.allLoot = [];\n      this.totalRolls = 0;\n      this.totalRollsDelayed = 0;\n      this.lastRolls = 0;\n      this.rollExecuted = false;\n      this.showHasPurpleBorder = false;\n      this.showNewCollectionLogBorder = false;\n      this.hasPurple = false;\n      this.newCollectionLog = false;\n      this.dryStreak = 0;\n      this.longestDryStreak = 0; // Reset longest dry streak\n      this.drynessPercent = 0;\n      this.worstDryness = 0; // Reset worst dryness\n      this.rollHistory = [];\n      this.totalPurples = 0; // Reset total purples\n      this.itemKCs = {};\n      this.currentitemKCs = {};\n      this.petObtained = false; // Reset pet obtained flag\n      this.threadObtained = false;\n      this.jewelsObtained = [];\n      this.collectionLog = {};\n      this.logsComplete = 0;\n      this.logsCompleteDelayed = 0;\n      this.greenLoggedKc = -1;\n      this.entryModeCount = 0;\n      this.normalModeCount = 0;\n      this.expertModeCount = 0;\n      this.expectedPurplePercent = 0.0; // Expected Purple %\n      this.actualPurplePercent = 0.0; // Actual Purple %\n      this.totalPurpleChanceSum = 0; // Cumulative sum of purple chances\n      this.dupesCount = 0; // Total number of dupes\n      this.initializeLootSimulator();\n    },\n    // Start the auto-roll process\n    async startAutoRoll() {\n      if (this.autoRolling) return; // Prevent multiple auto-roll starts\n\n      // Check if the ot auto roll stop condition is already met\n      if (this.isOneTimeAutoRollStopConditionMet()) {\n        return;\n      }\n\n      this.autoRolling = true; // Mark auto-rolling as active\n\n      // Function to handle each auto-roll cycle\n      const autoRollWithDynamicInterval = async () => {\n        if (!this.autoRolling) return; // Exit if auto rolling is stopped\n\n        const startTime = Date.now(); // Record the start time\n\n        // Only run the simulation if not currently simulating\n        if (!this.isSimulating) {\n          await this.autoRollSimulate(); // Wait for the simulation to complete\n        }\n\n        const endTime = Date.now(); // Record the end time after simulation\n        const elapsedTime = endTime - startTime; // Calculate how long the simulation took\n\n        // Calculate the remaining time to wait in the interval\n        const remainingTime = this.autoRollInterval - elapsedTime;\n\n        // Wait for the remaining time (or 0 if simulation took longer than the interval)\n        setTimeout(() => {\n          autoRollWithDynamicInterval(); // Recursively call the function to start the next roll\n        }, Math.max(0, remainingTime)); // Ensure it waits 0 or more milliseconds\n      };\n\n      // Start the first iteration\n      await autoRollWithDynamicInterval();\n    },\n\n    // Method to simulate the loot roll\n    async autoRollSimulate() {\n      await this.simulateLoot(); // Ensure this waits for the async simulation to finish\n    },\n\n    // Stop the auto-roll process\n    stopAutoRoll() {\n      this.autoRolling = false; // Stop auto-rolling\n    },\n    isOneTimeAutoRollStopConditionMet() {\n      // Excludes purple and selectedAny as would auto-fail under certain conditions\n      if (this.autoRollStopCondition === \"pet\") {\n        return this.petObtained;\n      } else if (this.autoRollStopCondition === \"log\") {\n        return this.logsComplete >= this.totalLogs;\n      } else if (this.autoRollStopCondition === \"allUniques\") {\n        return this.isAllUniquesObtained();\n      } else if (this.autoRollStopCondition === \"chooseItemsAll\") {\n        return this.areAllSelectedItemsObtained();\n      }\n      return false; // For 'never' and 'purple', we don't disable the button\n    },\n    // Tooltips methods\n    showTooltip(event, tooltipContent) {\n      if (!tooltipContent) return;\n      const tooltip = document.getElementById(\"tooltip\");\n      tooltip.textContent = tooltipContent;\n      tooltip.style.display = \"block\";\n      this.moveTooltip(event);\n    },\n    moveTooltip(event) {\n      const tooltip = document.getElementById(\"tooltip\");\n      tooltip.style.left = `${event.pageX + 15}px`;\n      tooltip.style.top = `${event.pageY - 25}px`;\n    },\n    hideTooltip() {\n      const tooltip = document.getElementById(\"tooltip\");\n      tooltip.style.display = \"none\";\n    },\n    isAllUniquesObtained() {\n      return this.uniqueItemsList.every((item) => this.collectionLog[item]);\n    },\n    areAllSelectedItemsObtained() {\n      if (this.selectedItems.length === 0) {\n        console.log(\"No items selected.\");\n        return false; // No items selected, cannot be obtained yet\n      }\n\n      // Log selected items and collection log for debugging\n      this.selectedItems.forEach((item) => {\n        console.log(`Checking ${item}:`, this.collectionLog[item]);\n      });\n\n      // Ensure all selected items are obtained\n      return this.selectedItems.every(\n        (item) => this.collectionLog[item] === true\n      );\n    },\n  },\n};\n</script>\n\n<style>\n/* Basic theming */\n\nhtml {\n  background-color: #101010 !important;\n  color: rgb(189, 189, 189);\n  font-size: 16px;\n}\n\n.app-wrapper {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: start;\n  min-height: 100vh;\n  font-family: Arial, sans-serif;\n  margin-bottom: 100px;\n}\n\nheader {\n  text-align: center;\n}\n\nh1 {\n  margin-top: 60px;\n  font-family: \"runescape\";\n  font-size: 42px;\n}\n\n.main-container {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: center;\n  width: 100%;\n  margin-top: 0;\n  padding-top: 0;\n}\n\n.parameters {\n  border-radius: 8px;\n  width: 90%;\n  max-width: 90%;\n}\n\n.parameter-controls {\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  gap: 20px; /* Add spacing between each label-input pair */\n  flex-wrap: wrap; /* Allow wrapping if the screen is too small */\n  margin-bottom: 10px;\n}\n\n.expected-purple-rate {\n  color: #adadad;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  margin-top: 20px;\n  margin-bottom: 20px;\n  font-size: 14px;\n  font-style: italic;\n}\n\n.parameter-controls label {\n  display: flex;\n  flex-direction: column; /* Stack label and input */\n  align-items: center; /* Center the input below the label */\n}\n\n.parameter-generation {\n  margin-top: 30px;\n  display: flex;\n  flex-direction: row;\n  justify-content: center;\n  align-items: center;\n  flex-wrap: wrap; /* Allow wrapping if the screen is too small */\n  gap: 10px; /* Add spacing between buttons */\n}\n\nbutton {\n  padding: 10px 25px;\n  background-color: #ffca28;\n  color: black;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  outline: none;\n}\n\nbutton:focus,\nbutton:active {\n  outline: none;\n  box-shadow: none;\n}\n\nbutton::-moz-focus-inner {\n  border: 0;\n}\n\nbutton:visited {\n  color: inherit;\n}\n\n/* Disabled Button Style */\nbutton:disabled {\n  background-color: grey;\n  cursor: not-allowed;\n}\n\n.disabled-button {\n  background-color: grey;\n  cursor: not-allowed;\n}\n\n.parameters button {\n  margin-top: 0; /* Align the button horizontally */\n  padding: 10px 25px;\n  background-color: #ffca28;\n  color: black;\n  border: none;\n  border-radius: 4px;\n  cursor: pointer;\n  width: 5rem;\n  max-width: 10rem;\n  flex-grow: 1; /* Ensure the button takes equal space */\n  margin-left: 10px;\n  margin-right: 10px;\n  text-wrap: nowrap;\n}\n\n/* Stop Button Style */\n.stop-button {\n  background-color: #ffe081 !important;\n}\n\n.loot-panel-container {\n  margin-top: 20px;\n  width: 100%;\n  max-width: 600px;\n}\n\n/* Position the sort button inside the loot window */\n.loot-results,\n.all-loot {\n  position: relative; /* To position the sort button inside */\n}\n\n.loot-results {\n  background-color: #3e362f;\n  padding-top: 14px;\n  padding-bottom: 14px;\n  padding-left: 16px;\n  padding-right: 16px;\n  margin-bottom: 20px;\n  width: 100%;\n  max-width: 600px;\n  border-radius: 8px;\n}\n\n/* No border when no loot is present */\n.no-border {\n  border: 1px solid transparent;\n}\n\n/* White border for normal loot */\n.white-border {\n  border: 1px solid white;\n}\n\n.coll-log-border {\n  border: 1px solid white;\n  box-shadow: 0 0 25px #ffd9008a;\n}\n\n/* Purple glowing border for unique loot */\n.purple-border {\n  border: 1px solid #b950ff;\n  box-shadow: 0 0 25px #b950ff;\n}\n\n.all-loot {\n  background-color: #3e362f;\n  padding-top: 14px;\n  padding-bottom: 14px;\n  padding-left: 16px;\n  padding-right: 16px;\n  border: none;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  width: 100%;\n  max-width: 600px;\n}\n\n.collection-log {\n  background-color: #3e362f;\n  padding-top: 14px;\n  padding-bottom: 14px;\n  padding-left: 16px;\n  padding-right: 16px;\n  border: none;\n  border-radius: 8px;\n  margin-bottom: 20px;\n  width: 100%;\n  max-width: 600px;\n}\n\n.toggle-extra-info {\n  background-color: #26262f; /* Grey background */\n  border: none;\n  cursor: pointer;\n  color: #ffffff; /* White icon for contrast */\n  padding: 0; /* Remove default padding */\n  border-radius: 50%; /* Make it circular */\n  width: 30px; /* Set width and height to make it a circle */\n  height: 30px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  margin-bottom: 0px !important;\n}\n\n.toggle-extra-info:focus {\n  outline: none;\n}\n\n.extra-info {\n  display: flex;\n  flex-direction: row;\n  flex-wrap: wrap;\n  justify-content: center; /* Center the badges */\n  gap: 8px; /* Space between items */\n  text-align: center;\n  font-size: 12px;\n  padding: 10px; /* Padding inside the panel */\n  border-radius: 8px; /* Rounded corners */\n  width: 30%;\n  max-width: 30%;\n}\n\n/* Extra Info Panel - Hidden State */\n.extra-info.hidden {\n  visibility: hidden;\n  height: 0;\n  overflow: hidden;\n  transition: height 0.3s ease;\n  margin-bottom: 0px;\n  padding: 0px;\n}\n\n/* Extra Info Panel - Visible State */\n.extra-info.visible {\n  visibility: visible;\n  height: auto;\n  transition: height 0.3s ease;\n}\n\n.extra-info span,\n.extra-info label {\n  background-color: #26262f; /* Lighter gray background for each item */\n  padding: 0 10px; /* Horizontal padding */\n  border-radius: 5px; /* Rounded corners */\n  color: rgb(209, 209, 209);\n  display: inline-flex; /* Use inline-flex for alignment without affecting width */\n  align-items: center; /* Center content vertically */\n  justify-content: center; /* Center content horizontally */\n  height: 35px; /* Set a consistent height */\n  white-space: nowrap; /* Prevent text from wrapping */\n  font-size: 14px; /* Consistent font size */\n  /* Remove width settings */\n}\n\n@media (max-width: 1200px) {\n  .extra-info {\n    gap: 10px;\n    width: 80%;\n    max-width: 80%;\n  }\n}\n\n@media (max-width: 600px) {\n  .extra-info {\n    gap: 10px;\n    width: 100%;\n    max-width: 100%;\n  }\n}\n\n/* .extra-info {\n  display: flex;\n  flex-direction: column;\n  align-content: center;\n  justify-content: center;\n  margin-bottom: 10px;\n  text-align: center;\n  font-size: 12px;\n} */\n\nh2 {\n  margin-bottom: 15px;\n  text-align: center; /* Center all h2 elements */\n  font-size: 22px;\n}\n\n.title-text {\n  color: #ff9812;\n  text-align: center; /* Center the text */\n}\n\n.subtitle-text {\n  color: #a1a1a1a4;\n  font-size: 16px;\n}\n\n.loot-grid {\n  display: grid;\n  grid-gap: 8px; /* Adds space between items */\n  grid-template-columns: repeat(\n    auto-fill,\n    minmax(45px, 1fr)\n  ); /* Dynamically fit as many 45px-wide items as possible */\n}\n\n.loot-item {\n  position: relative;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  aspect-ratio: 1 / 1; /* Ensures the item keeps a square aspect ratio */\n}\n/* Reset anchor styles in loot items */\n.loot-item a {\n  color: inherit;\n  text-decoration: none;\n}\n\n.loot-item a:visited,\n.loot-item a:hover,\n.loot-item a:active {\n  color: inherit;\n  text-decoration: none;\n}\n\n.loot-item a:focus {\n  outline: none;\n}\n\n.loot-image {\n  object-fit: contain;\n  border: none;\n  background: transparent;\n}\n\n@font-face {\n  font-family: \"runescape\";\n  src: url(\"@/assets/fonts/runescape.ttf\") format(\"truetype\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \"runescape_bold\";\n  src: url(\"@/assets/fonts/runescape_bold.ttf\") format(\"truetype\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \"runescape_bold_2\";\n  src: url(\"@/assets/fonts/runescape_bold_2.ttf\") format(\"truetype\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n@font-face {\n  font-family: \"runescape_compact\";\n  src: url(\"@/assets/fonts/runescape_compact.ttf\") format(\"truetype\");\n  font-weight: normal;\n  font-style: normal;\n}\n\n.quantity-text {\n  position: absolute;\n  top: 0px;\n  left: 15%;\n  font-family: \"runescape\";\n  font-size: 14px;\n  color: #fff200;\n  text-shadow: -1px -1px 0 #000, 1px -1px 0 #000, -1px 1px 0 #000,\n    1px 1px 0 #000;\n}\n\n.custom-tooltip {\n  position: absolute;\n  background-color: #333;\n  color: #fff;\n  padding: 5px;\n  border-radius: 5px;\n  white-space: nowrap;\n  z-index: 100;\n  font-size: 12px;\n  display: none; /* Hidden by default */\n}\n\n.underlined {\n  text-decoration: underline;\n  cursor: help;\n  text-decoration-color: #cccccc;\n}\n\n.loot-item a {\n  cursor: pointer;\n}\n\n.quantity-text.yellow {\n  color: #fff200; /* Default yellow color */\n}\n\n.quantity-text.white {\n  color: #ffffff; /* White color for 'k' values */\n}\n\n.quantity-text.green {\n  color: #00ff00; /* Green color for 'm' values */\n}\n\na,\n::selection,\n::after,\n::before {\n  background-color: transparent !important;\n  text-decoration: none !important;\n}\n\n/* Choose Items Container */\n.choose-items-container {\n  display: flex;\n  flex-direction: column;\n  width: 100%;\n  margin-bottom: 20px;\n  margin-top: -10px;\n}\n\n/* Label for the Container */\n.choose-items-container > label {\n  font-weight: bold;\n}\n\n/* Checkboxes Container */\n.checkboxes {\n  display: flex;\n  flex-direction: column;\n  justify-content: flex-start; /* Start alignment to avoid center alignment */\n  align-items: center; /* Centers the container in its parent */\n  width: 100%; /* Ensure it takes full width */\n  margin-top: 1rem;\n}\n\n/* Individual Checkbox Item */\n.checkbox-item {\n  margin-bottom: 5px;\n  width: 100%; /* Ensures the checkbox item takes full width of container */\n  max-width: 275px; /* You can set a max width to keep it from stretching too wide */\n}\n\n/* Label for Checkbox */\n.checkbox-item label {\n  display: flex;\n  align-items: center;\n  justify-content: center; /* Centers the text inside the label */\n  position: relative;\n  width: 100%;\n}\n\n/* Checkbox Input (Aligned to the left) */\n.checkbox-item label input {\n  position: absolute;\n  left: 0; /* Keep the checkbox aligned to the left */\n  margin-right: 10px; /* Adds spacing between checkbox and text */\n}\n\n.greyed-out {\n  color: rgb(196, 255, 187);\n}\n\nselect {\n  margin-bottom: 0px !important;\n}\n\ninput {\n  margin-bottom: 0px !important;\n}\n\ndetails {\n  border: none !important;\n}\n\nsummary::after,\nsummary:focus,\nsummary:active {\n  background-image: none !important;\n  width: initial !important;\n  outline: none;\n  box-shadow: none;\n  margin-inline-start: 0px !important;\n}\n\nli {\n  list-style-type: none !important;\n}\n\n.sort-dropdown {\n  position: absolute;\n  top: 8px;\n  right: 8px;\n  z-index: 999;\n  box-sizing: content-box;\n}\n\n.fa-sort {\n  font-size: 14px !important;\n}\n\n.sort-dropdown summary {\n  background: none;\n  border: none;\n  padding: 0;\n  margin: 0;\n  cursor: pointer;\n  padding-left: 5px;\n  padding-right: 5px;\n}\n\n.sort-dropdown summary::-webkit-details-marker {\n  display: none; /* Remove the default dropdown arrow */\n}\n\n.sort-dropdown summary i {\n  font-size: 18px;\n  color: rgb(161, 161, 161); /* Adjust icon color */\n}\n\n/* Dropdown menu styling */\n.sort-dropdown ul {\n  background-color: #11191f; /* Darker background color */\n  color: rgb(187, 198, 206); /* White text */\n  padding: 8px 0; /* Add some padding around the list */\n  list-style: none; /* Remove bullet points */\n  min-width: 150px; /* Ensure the dropdown has a minimum width */\n  position: absolute;\n  top: 30px;\n  right: 0;\n  z-index: 10;\n  font-size: 16px; /* Reduce font size */\n  border-radius: 4px; /* Rounded corners */\n  white-space: nowrap; /* Prevent text wrapping */\n  outline-style: solid;\n  outline-width: 1px;\n  outline-color: rgb(97, 97, 97);\n}\n\n/* Dropdown list item styling */\n.sort-dropdown ul li {\n  margin: none;\n  padding-top: 2px;\n  padding-bottom: 2px;\n  padding-left: 10px;\n  padding-right: 10px;\n}\n\n.sort-dropdown ul li label {\n  margin-bottom: 0px !important;\n}\n\n/* Hover effect for dropdown items */\n.sort-dropdown ul li:hover {\n  color: white;\n  background-color: #52525e; /* Slightly lighter background on hover */\n}\n\n/* Radio button styles within dropdown */\n.sort-dropdown input[type=\"radio\"] {\n  margin-right: 2px;\n  accent-color: white; /* Ensure the radio button matches the color scheme */\n}\n\n.sort-dropdown label {\n  cursor: pointer;\n}\n\n/* Tooltip styling remains unchanged */\n.custom-tooltip {\n  position: absolute;\n  background-color: #333;\n  color: #fff;\n  padding: 5px;\n  border-radius: 5px;\n  white-space: nowrap;\n  z-index: 100;\n  font-size: 12px;\n  display: none; /* Hidden by default */\n}\n\n.obtained-item {\n  opacity: 1;\n}\n\n.not-obtained-item {\n  opacity: 0.35; /* Make uncollected items semi-transparent */\n}\n\n.switch-simulator {\n  display: flex;\n  flex-direction: row;\n  justify-content: end;\n  align-items: center;\n  text-decoration: none;\n  position: absolute;\n  right: 15px;\n  top: 15px;\n  text-align: center;\n  color: rgb(255, 255, 255);\n  opacity: 50%;\n  font-family: \"runescape\";\n  font-size: 18px;\n  transition: opacity 0.5s;\n}\n\n.switch-simulator span {\n  height: 100%;\n}\n\n.switch-simulator:visited,\n.switch-simulator::after {\n  text-decoration: none;\n  color: rgb(255, 255, 255);\n}\n\n.switch-simulator:hover {\n  opacity: 100%;\n}\n\n/* Adjust button styles for mobile devices */\n@media (max-width: 800px) {\n  .checkbox-item {\n    max-width: 250px; /* You can set a max width to keep it from stretching too wide */\n  }\n\n  .checkbox-item label {\n    font-size: 15px;\n  }\n\n  .loot-grid {\n    grid-template-columns: repeat(\n      auto-fill,\n      minmax(40px, 1fr)\n    ); /* Dynamically fit as many 45px-wide items as possible */\n\n    grid-gap: 10px; /* Adds space between items */\n  }\n\n  .quantity-text {\n    left: 10%;\n  }\n\n  .main-container {\n    width: 95%;\n  }\n\n  .parameters {\n    border-radius: 8px;\n    width: 100%;\n    max-width: 100%;\n  }\n\n  .parameter-generation {\n    margin-left: auto;\n    margin-right: auto;\n    flex-direction: column;\n    align-items: center;\n    justify-content: center;\n    width: 80%;\n  }\n\n  .parameter-generation button {\n    width: 75%;\n    max-width: none;\n  }\n\n  .parameters button {\n    margin-left: 0px;\n    margin-right: 0px;\n  }\n\n  .app-wrapper {\n    margin-left: 25px;\n    margin-right: 25px;\n  }\n\n  .parameter-controls {\n    margin-bottom: 20px;\n  }\n\n  .custom-tooltip {\n    display: none !important; /* Hidden by default */\n    visibility: hidden !important;\n    cursor: default !important;\n  }\n\n  .underlined {\n    text-decoration: none !important;\n    cursor: default !important;\n    text-decoration-color: transparent !important;\n  }\n}\n\n@media (max-width: 350px) {\n  .checkbox-item {\n    max-width: 225px; /* You can set a max width to keep it from stretching too wide */\n  }\n\n  .checkbox-item label {\n    font-size: 12px !important;\n  }\n}\n</style>\n","class PointEntity {\n  constructor(\n    name,\n    hp,\n    multiplier,\n    count = 1,\n    approximate = false,\n    fixedPoints = 0\n  ) {\n    this.name = name;\n    this.hp = hp;\n    this.multiplier = multiplier;\n    this.count = count;\n    this.approximate = approximate;\n    this.fixedPoints = fixedPoints;\n  }\n}\n\nclass LootResult {\n  constructor(itemName, quantity, itemValue, imageUrl, url, type) {\n    this.itemName = itemName;\n    this.quantity = quantity;\n    this.itemValue = itemValue;\n    this.imageUrl = imageUrl;\n    this.url = url;\n    this.type = type; // Can be \"normal\", \"unique\", or \"tertiary\"\n  }\n}\n\nclass NormalLootItem {\n  constructor(\n    itemName,\n    divisor,\n    itemValue,\n    urlOverride = null,\n    imageUrlOverride = null\n  ) {\n    this.itemName = itemName;\n    this.divisor = divisor;\n    this.itemValue = itemValue;\n    this.quantity = 0;\n    this.url = urlOverride || this.generateUrl(itemName);\n    this.imageUrl = imageUrlOverride || this.generateImageUrl(itemName);\n  }\n\n  generateUrl(itemName) {\n    return `https://oldschool.runescape.wiki/w/${itemName.replace(/\\s/g, \"_\")}`;\n  }\n\n  generateImageUrl(itemName) {\n    return `images/${itemName.replace(/\\s/g, \"_\")}.png`;\n  }\n}\n\nclass UniqueLootItem {\n  constructor(\n    itemName,\n    weight,\n    itemValue,\n    minLevel,\n    urlOverride = null,\n    imageUrlOverride = null\n  ) {\n    this.itemName = itemName;\n    this.weight = weight;\n    this.itemValue = itemValue;\n    this.minLevel = minLevel;\n    this.chance = 0;\n    this.url = urlOverride || this.generateUrl(itemName);\n    this.imageUrl = imageUrlOverride || this.generateImageUrl(itemName);\n  }\n\n  generateUrl(itemName) {\n    return `https://oldschool.runescape.wiki/w/${itemName.replace(/\\s/g, \"_\")}`;\n  }\n\n  generateImageUrl(itemName) {\n    return `images/${itemName.replace(/\\s/g, \"_\")}.png`;\n  }\n}\n\nclass LootSimulator {\n  constructor(\n    raidLevel,\n    teamSize,\n    pathInvocation,\n    walkThePath,\n    wP2Type,\n    wP3Type,\n    variance\n  ) {\n    this.raidLevel = raidLevel;\n    this.teamSize = teamSize;\n    this.pathInvocation = pathInvocation;\n    this.walkThePath = walkThePath;\n    this.wP2Type = wP2Type;\n    this.wP3Type = wP3Type;\n    this.variance = variance;\n    this.rng = Math.random;\n\n    this.teamSizeScale = {\n      1: 1.0,\n      2: 1.9,\n      3: 2.8,\n      4: 3.4,\n      5: 4.0,\n      6: 4.6,\n      7: 5.2,\n      8: 5.8,\n    };\n\n    // Initialize loot and entities\n    this.normalLootItems = this.initializeNormalLootItems();\n    this.uniqueLootItems = this.initializeUniqueLootItems();\n    this.pointEntities = this.initializePointEntities();\n\n    this.uniqueJewelsList = [\n      \"Eye of the corruptor\",\n      \"Jewel of the sun\",\n      \"Breach of the scarab\",\n    ];\n  }\n\n  initializeNormalLootItems() {\n    return [\n      new NormalLootItem(\"Coins\", 1, 1, null),\n      new NormalLootItem(\"Death rune\", 20, 192),\n      new NormalLootItem(\"Soul rune\", 40, 178),\n      new NormalLootItem(\"Gold ore\", 90, 177),\n      new NormalLootItem(\"Dragon dart tip\", 100, 2210),\n      new NormalLootItem(\"Mahogany logs\", 180, 546),\n      new NormalLootItem(\"Sapphire\", 200, 227),\n      new NormalLootItem(\"Emerald\", 250, 406),\n      new NormalLootItem(\"Gold bar\", 250, 112),\n      new NormalLootItem(\"Potato cactus\", 250, 57),\n      new NormalLootItem(\"Raw shark\", 250, 663),\n      new NormalLootItem(\"Ruby\", 300, 824),\n      new NormalLootItem(\"Diamond\", 400, 1744),\n      new NormalLootItem(\"Raw manta ray\", 450, 1547),\n      new NormalLootItem(\"Cactus spine\", 600, 1938),\n      new NormalLootItem(\"Dragonstone\", 600, 11674),\n      new NormalLootItem(\"Battlestaff\", 1100, 8352),\n      new NormalLootItem(\"Coconut milk\", 1100, 183),\n      new NormalLootItem(\"Lily of the sands\", 1100, 1971),\n      new NormalLootItem(\"Toadflax seed\", 1400, 1013),\n      new NormalLootItem(\"Ranarr seed\", 1800, 34182),\n      new NormalLootItem(\"Torstol seed\", 2200, 12228),\n      new NormalLootItem(\"Snapdragon seed\", 2200, 46506),\n      new NormalLootItem(\"Dragon med helm\", 4000, 58971),\n      new NormalLootItem(\"Magic seed\", 6500, 75446),\n      new NormalLootItem(\"Blood essence\", 7500, 61662),\n      new NormalLootItem(\"Cache of runes\", 999999, 0),\n    ];\n  }\n\n  initializeUniqueLootItems() {\n    return [\n      new UniqueLootItem(\"Tumeken's shadow\", 1, 1195104541, 150),\n      new UniqueLootItem(\"Masori mask\", 2, 7808199, 150),\n      new UniqueLootItem(\"Masori body\", 2, 61661075, 150),\n      new UniqueLootItem(\"Masori chaps\", 2, 45378618, 150),\n      new UniqueLootItem(\"Elidinis' ward\", 3, 4559701, 150),\n      new UniqueLootItem(\"Osmumten's fang\", 7, 12489797, 50),\n      new UniqueLootItem(\"Lightbearer\", 7, 1892527, 50),\n    ];\n  }\n\n  refreshPointEntities() {\n    this.pointEntities = this.initializePointEntities();\n  }\n\n  initializePointEntities() {\n    // Average Walk the Path Level adjustments (Now Used)\n    const averageWtpLevel = {\n      0: 0.0,\n      1: this.walkThePath ? 4.0 / 6.0 : 0.0,\n      2: this.walkThePath ? 7.0 / 6.0 : 0.0,\n      3: this.walkThePath ? 13.0 / 6.0 : 0.0,\n    };\n\n    return [\n      new PointEntity(\n        \"Akkha\",\n        this.scaleHp(480, this.pathInvocation + averageWtpLevel[3]),\n        1.0\n      ),\n      new PointEntity(\n        \"Akkha's Shadow\",\n        this.scaleHp(70, this.pathInvocation + averageWtpLevel[3]),\n        1.0,\n        4\n      ),\n      new PointEntity(\"Baboons\", this.scaleHp(300, 0), 1.2, 1, true),\n      new PointEntity(\n        \"Ba-Ba\",\n        this.scaleHp(380, this.pathInvocation + averageWtpLevel[0]),\n        2.0,\n        1,\n        this.walkThePath\n      ),\n      new PointEntity(\n        \"Zebak\",\n        this.scaleHp(580, this.pathInvocation + averageWtpLevel[2]),\n        1.5,\n        1,\n        this.walkThePath\n      ),\n      new PointEntity(\"Scarab Swarms\", 200, 1.0, 1, true),\n      new PointEntity(\"Scarabs\", 200, 0.5, 1, true),\n      new PointEntity(\n        \"Kephri's Shield\",\n        this.scaleHp(375, this.pathInvocation + averageWtpLevel[1]),\n        1.0,\n        1,\n        true\n      ),\n      new PointEntity(\n        \"Kephri\",\n        this.scaleHp(130, this.pathInvocation + averageWtpLevel[1]),\n        1.0,\n        1,\n        this.walkThePath\n      ),\n      new PointEntity(\"P1 Obelisk\", this.scaleHp(260, 0), 1.5),\n      new PointEntity(\n        \"P2 Warden\",\n        this.scaleHp(140, 0),\n        2.0,\n        this.wP2Type === \"3down\" ? 3 : 2\n      ),\n      new PointEntity(\n        \"P3 Warden\",\n        this.scaleHp(880, 0) + this.getSkullSkipBonusHP(880),\n        2.5\n      ),\n      new PointEntity(\"Misc. damage\", 80 * this.teamSize, 1.0, 1, true),\n      new PointEntity(\n        \"Het - seal mining\",\n        130 + Math.floor(95.81 * (this.teamSize - 1)),\n        2.5,\n        1,\n        false\n      ),\n      new PointEntity(\n        \"Scabaras - puzzles\",\n        0,\n        1.0,\n        1,\n        true,\n        300 * this.teamSize\n      ),\n      new PointEntity(\"Apmeken - traps\", 0, 1.0, 1, true, 450 * this.teamSize),\n      new PointEntity(\n        \"Crondis - palm watering\",\n        0,\n        1.0,\n        1,\n        false,\n        400 * this.teamSize\n      ),\n      new PointEntity(\"MVP\", 0, 1.0, 1, false, 2700 * this.teamSize),\n    ];\n  }\n\n  scaleHp(baseHp, pathLevel) {\n    let pathMultiplier = pathLevel > 0 ? 1.03 + pathLevel * 0.05 : 1.0;\n    let teamScale = this.teamSizeScale[this.teamSize];\n    return Math.floor(\n      baseHp * (1 + this.raidLevel / 250) * teamScale * pathMultiplier\n    );\n  }\n  getSkullSkipBonusHP(baseHp) {\n    if (this.wP3Type !== \"skullskipyes\") return 0;\n\n    const perSkulls = Math.round((this.scaleHp(baseHp, 0) * 0.05) / 10) * 10;\n    return perSkulls * 4;\n  }\n  simulateLootRoll(killCount, threadObtained, jewelsObtained) {\n    // killCount: total number of raids completed\n    // threadObtained: boolean indicating if the thread has been obtained\n    // jewelsObtained: array of jewel names obtained\n\n    const totalPoints = Math.max(this.calculatePoints(), 0);\n    const rewardPool = this.getRewardPool(totalPoints);\n    const roll = this.rng();\n\n    let lootResults = [];\n\n    // Simulate Purple (Unique) Drop\n    if (roll < rewardPool.purpleChance) {\n      let cumulativeChance = 0.0;\n      for (let loot of rewardPool.uniqueLootPool) {\n        cumulativeChance += loot.chance;\n        if (roll < cumulativeChance) {\n          // Unique item obtained\n          lootResults.push(\n            new LootResult(\n              loot.item.itemName,\n              1,\n              loot.item.itemValue,\n              loot.item.imageUrl,\n              loot.item.url,\n              \"unique\"\n            )\n          );\n          break;\n        }\n      }\n    } else {\n      // Roll for common loot (3 items)\n      for (let i = 0; i < 3; i++) {\n        const index = Math.floor(this.rng() * this.normalLootItems.length);\n        const lootItem = this.normalLootItems[index];\n\n        // Check if the item already exists in the lootResults array\n        const existingItem = lootResults.find(\n          (result) => result.itemName === lootItem.itemName\n        );\n\n        if (existingItem) {\n          existingItem.quantity += this.calculateLootQuantity(\n            totalPoints,\n            lootItem.divisor,\n            rewardPool.normalLootScale\n          );\n        } else {\n          // Create a LootResult instance for normal item\n          lootResults.push(\n            new LootResult(\n              lootItem.itemName,\n              this.calculateLootQuantity(\n                totalPoints,\n                lootItem.divisor,\n                rewardPool.normalLootScale\n              ),\n              lootItem.itemValue,\n              lootItem.imageUrl,\n              lootItem.url,\n              \"normal\"\n            )\n          );\n        }\n      }\n    }\n\n    // Simulate Tertiary Drops\n    const tertiaryDrops = this.simulateTertiaryDrops(\n      killCount,\n      threadObtained,\n      jewelsObtained,\n      totalPoints\n    );\n    lootResults = lootResults.concat(tertiaryDrops.newLoot);\n\n    // Update threadObtained and jewelsObtained based on new drops\n    threadObtained = tertiaryDrops.threadObtained;\n    jewelsObtained = tertiaryDrops.jewelsObtained;\n\n    return {\n      lootResults: lootResults,\n      totalPoints: totalPoints,\n      threadObtained: threadObtained,\n      jewelsObtained: jewelsObtained,\n    };\n  }\n\n  simulateTertiaryDrops(\n    killCount,\n    threadObtained,\n    jewelsObtained,\n    totalPoints\n  ) {\n    let newLoot = [];\n\n    // 1. Thread of Elidinis\n    const threadDropRate = this.calculateThreadDropRate(\n      killCount,\n      threadObtained\n    );\n    const threadRoll = this.rng();\n    if (threadRoll < threadDropRate) {\n      if (!threadObtained) {\n        threadObtained = true;\n      }\n      newLoot.push(\n        new LootResult(\n          \"Thread of elidinis\",\n          1,\n          0,\n          this.generateImageUrl(\"Thread of elidinis\"),\n          this.generateUrl(\"Thread of elidinis\"),\n          \"tertiary\"\n        )\n      );\n    }\n\n    // 2. Keris Partisan Jewel\n    const jewelDropRate = this.calculateJewelDropRate(killCount);\n    const jewelRoll = this.rng();\n    if (jewelRoll < jewelDropRate) {\n      let unownedJewels = this.uniqueJewelsList.filter(\n        (jewel) => !jewelsObtained.includes(jewel)\n      );\n\n      let obtainedJewel;\n      if (unownedJewels.length > 0) {\n        // Guaranteed to receive an unowned jewel\n        obtainedJewel =\n          unownedJewels[Math.floor(this.rng() * unownedJewels.length)];\n        jewelsObtained.push(obtainedJewel);\n      } else {\n        // All jewels obtained, can receive duplicates\n        obtainedJewel =\n          this.uniqueJewelsList[\n            Math.floor(this.rng() * this.uniqueJewelsList.length)\n          ];\n      }\n\n      newLoot.push(\n        new LootResult(\n          obtainedJewel,\n          1,\n          0,\n          this.generateImageUrl(obtainedJewel),\n          this.generateUrl(obtainedJewel),\n          \"tertiary\"\n        )\n      );\n    }\n\n    // 3. Clue Scroll (elite)\n    const clueDropRate = this.calculateClueDropRate();\n    const clueRoll = this.rng();\n    if (clueRoll < clueDropRate) {\n      newLoot.push(\n        new LootResult(\n          \"Clue scroll (elite)\",\n          1,\n          0,\n          this.generateImageUrl(\"Clue scroll (elite)\"),\n          this.generateUrl(\"Clue scroll (elite)\"),\n          \"tertiary\"\n        )\n      );\n    }\n\n    // 4. Tumeken's Guardian (Pet)\n    const petDropRate = this.calculatePetDropRate(totalPoints);\n    const petRoll = this.rng();\n    if (petRoll < petDropRate) {\n      newLoot.push(\n        new LootResult(\n          \"Tumeken's guardian\",\n          1,\n          0,\n          this.generateImageUrl(\"Tumeken's guardian\"),\n          this.generateUrl(\"Tumeken's guardian\"),\n          \"tertiary\"\n        )\n      );\n    }\n\n    return {\n      newLoot: newLoot,\n      threadObtained: threadObtained,\n      jewelsObtained: jewelsObtained,\n    };\n  }\n\n  calculateThreadDropRate(killCount, threadObtained) {\n    if (!threadObtained) {\n      // Thread drop rate scales from 1/10 to 3/10 over 15 KCs\n      const baseRate = 1 / 10;\n      const maxScalingFactor = 3;\n      const maxKC = 15; // 1.5 * base denominator (1.5 * 10)\n      const scalingFactor =\n        killCount <= maxKC ? 1 + (2 * killCount) / maxKC : maxScalingFactor;\n      return baseRate * scalingFactor;\n    } else {\n      // After first acquisition, drop rate becomes 1/50 (bug)\n      return 1 / 50;\n    }\n  }\n\n  calculateJewelDropRate(killCount) {\n    // Jewel drop rate scales from 1/60 to 1/20 over 270 KCs\n    const baseRate = 1 / 60; // For any jewel\n    const maxScalingFactor = 3;\n    const maxKC = 270; // 1.5 * base denominator (1.5 * 180)\n    const scalingFactor =\n      killCount <= maxKC ? 1 + (2 * killCount) / maxKC : maxScalingFactor;\n    return baseRate * scalingFactor;\n  }\n\n  calculateClueDropRate() {\n    // Clue scroll (elite) has a fixed drop rate\n    // Assuming a drop rate of 1/15 per raid (adjust as per accurate data)\n    return 1 / 15;\n  }\n\n  calculatePetDropRate(totalPoints) {\n    // Pet drop rate depends on total points and adjusted raid level\n    const adjustedRaidLevel =\n      this.raidLevel > 400\n        ? 400 + Math.floor((this.raidLevel - 400) / 3)\n        : this.raidLevel;\n    const petDenominator = 100 * (350000 - 700 * adjustedRaidLevel);\n    return totalPoints / petDenominator / this.teamSize;\n  }\n\n  calculatePoints() {\n    let totalPoints = 0;\n    for (let entity of this.pointEntities) {\n      let entityPoints =\n        entity.fixedPoints > 0\n          ? entity.fixedPoints\n          : Math.floor(entity.hp * entity.multiplier * entity.count);\n\n      // Apply variance if entity is approximate\n      if (entity.approximate) {\n        entityPoints = this.applyVariance(entityPoints, this.variance); // Use the variance method\n      }\n\n      totalPoints += entityPoints;\n    }\n    return totalPoints;\n  }\n\n  applyVariance(baseValue, variancePercentage) {\n    const varianceAmount = baseValue * (variancePercentage / 100);\n    const min = Math.floor(baseValue - varianceAmount);\n    const max = Math.ceil(baseValue + varianceAmount);\n    return Math.floor(Math.random() * (max - min + 1)) + min;\n  }\n\n  getRewardPool(totalPoints) {\n    const adjustedRaidLevel =\n      this.raidLevel > 400\n        ? 400 + Math.floor((this.raidLevel - 400) / 3)\n        : this.raidLevel;\n\n    const purpleDenominator = Math.max(\n      100 * (10500 - 20 * adjustedRaidLevel),\n      150000\n    );\n    const basePurpleRate = Math.min(totalPoints / purpleDenominator, 0.55); // ??\n    const uniqueLootPool = [];\n\n    let purpleChance = 0.0;\n    let normalLootScale = 1;\n\n    if (this.raidLevel < 150) {\n      normalLootScale = 0.75;\n    } else if (this.raidLevel >= 300) {\n      let percent = Math.floor((this.raidLevel - 300) / 5) + 15;\n      normalLootScale = 1 + percent / 100;\n    }\n\n    for (let item of this.uniqueLootItems) {\n      let trueRate = (basePurpleRate * item.weight) / 24;\n      if (this.raidLevel < item.minLevel) {\n        trueRate /= 50;\n      }\n      purpleChance += trueRate / this.teamSize;\n      uniqueLootPool.push({\n        item: item,\n        chance: trueRate / this.teamSize,\n      });\n    }\n\n    return {\n      normalLootScale: normalLootScale,\n      uniqueLootPool: uniqueLootPool,\n      purpleChance: purpleChance,\n    };\n  }\n\n  calculateLootQuantity(totalPoints, divisor, scale) {\n    let quantity = Math.floor(totalPoints / this.teamSize / divisor);\n    quantity = Math.floor(quantity * scale);\n    return Math.max(quantity, 1);\n  }\n\n  calculatePointsWithMaxVariance(subtract = false) {\n    let totalPoints = 0;\n\n    for (let entity of this.pointEntities) {\n      let entityPoints =\n        entity.fixedPoints > 0\n          ? entity.fixedPoints\n          : Math.floor(entity.hp * entity.multiplier * entity.count);\n\n      // Apply variance only to approximate entities\n      if (entity.approximate) {\n        entityPoints = this.applyMaxVariance(entityPoints, subtract);\n      }\n\n      totalPoints += entityPoints;\n    }\n\n    return totalPoints;\n  }\n\n  // Apply maximum variance (either subtract or add variance)\n  applyMaxVariance(baseValue, subtract) {\n    const varianceAmount = baseValue * (this.variance / 100);\n    if (subtract) {\n      return Math.floor(baseValue - varianceAmount); // Subtract variance for the lower bound\n    }\n    return Math.ceil(baseValue + varianceAmount); // Add variance for the upper bound\n  }\n\n  // Method to get the expected purple range using max variance for min and max points\n  getExpectedPurpleRange() {\n    // Calculate points with variance subtracted (min points)\n    const minPoints = Math.max(this.calculatePointsWithMaxVariance(true), 0);\n\n    // Calculate points with variance added (max points)\n    const maxPoints = this.calculatePointsWithMaxVariance(false);\n\n    // Get purple chance for min and max points\n    const rewardPoolMin = this.getRewardPool(minPoints);\n    const rewardPoolMax = this.getRewardPool(maxPoints);\n\n    return {\n      min: rewardPoolMin.purpleChance * 100,\n      max: rewardPoolMax.purpleChance * 100,\n    };\n  }\n\n  generateUrl(itemName) {\n    return `https://oldschool.runescape.wiki/w/${itemName.replace(/\\s/g, \"_\")}`;\n  }\n\n  generateImageUrl(itemName) {\n    return `images/${itemName.replace(/\\s/g, \"_\")}.png`;\n  }\n}\n\nexport default LootSimulator;\n","import { render } from \"./App.vue?vue&type=template&id=2666aa20\"\nimport script from \"./App.vue?vue&type=script&lang=js\"\nexport * from \"./App.vue?vue&type=script&lang=js\"\n\nimport \"./App.vue?vue&type=style&index=0&id=2666aa20&lang=css\"\n\nimport exportComponent from \"../node_modules/vue-loader/dist/exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render]])\n\nexport default __exports__","import { createApp } from 'vue'\nimport App from './App.vue'\n\ncreateApp(App).mount('#app')\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n// expose the modules object (__webpack_modules__)\n__webpack_require__.m = __webpack_modules__;\n\n","var deferred = [];\n__webpack_require__.O = function(result, chunkIds, fn, priority) {\n\tif(chunkIds) {\n\t\tpriority = priority || 0;\n\t\tfor(var i = deferred.length; i > 0 && deferred[i - 1][2] > priority; i--) deferred[i] = deferred[i - 1];\n\t\tdeferred[i] = [chunkIds, fn, priority];\n\t\treturn;\n\t}\n\tvar notFulfilled = Infinity;\n\tfor (var i = 0; i < deferred.length; i++) {\n\t\tvar chunkIds = deferred[i][0];\n\t\tvar fn = deferred[i][1];\n\t\tvar priority = deferred[i][2];\n\t\tvar fulfilled = true;\n\t\tfor (var j = 0; j < chunkIds.length; j++) {\n\t\t\tif ((priority & 1 === 0 || notFulfilled >= priority) && Object.keys(__webpack_require__.O).every(function(key) { return __webpack_require__.O[key](chunkIds[j]); })) {\n\t\t\t\tchunkIds.splice(j--, 1);\n\t\t\t} else {\n\t\t\t\tfulfilled = false;\n\t\t\t\tif(priority < notFulfilled) notFulfilled = priority;\n\t\t\t}\n\t\t}\n\t\tif(fulfilled) {\n\t\t\tdeferred.splice(i--, 1)\n\t\t\tvar r = fn();\n\t\t\tif (r !== undefined) result = r;\n\t\t}\n\t}\n\treturn result;\n};","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = function(module) {\n\tvar getter = module && module.__esModule ?\n\t\tfunction() { return module['default']; } :\n\t\tfunction() { return module; };\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = function(exports, definition) {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.g = (function() {\n\tif (typeof globalThis === 'object') return globalThis;\n\ttry {\n\t\treturn this || new Function('return this')();\n\t} catch (e) {\n\t\tif (typeof window === 'object') return window;\n\t}\n})();","__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }","// no baseURI\n\n// object to store loaded and loading chunks\n// undefined = chunk not loaded, null = chunk preloaded/prefetched\n// [resolve, reject, Promise] = chunk loading, 0 = chunk loaded\nvar installedChunks = {\n\t524: 0\n};\n\n// no chunk on demand loading\n\n// no prefetching\n\n// no preloaded\n\n// no HMR\n\n// no HMR manifest\n\n__webpack_require__.O.j = function(chunkId) { return installedChunks[chunkId] === 0; };\n\n// install a JSONP callback for chunk loading\nvar webpackJsonpCallback = function(parentChunkLoadingFunction, data) {\n\tvar chunkIds = data[0];\n\tvar moreModules = data[1];\n\tvar runtime = data[2];\n\t// add \"moreModules\" to the modules object,\n\t// then flag all \"chunkIds\" as loaded and fire callback\n\tvar moduleId, chunkId, i = 0;\n\tif(chunkIds.some(function(id) { return installedChunks[id] !== 0; })) {\n\t\tfor(moduleId in moreModules) {\n\t\t\tif(__webpack_require__.o(moreModules, moduleId)) {\n\t\t\t\t__webpack_require__.m[moduleId] = moreModules[moduleId];\n\t\t\t}\n\t\t}\n\t\tif(runtime) var result = runtime(__webpack_require__);\n\t}\n\tif(parentChunkLoadingFunction) parentChunkLoadingFunction(data);\n\tfor(;i < chunkIds.length; i++) {\n\t\tchunkId = chunkIds[i];\n\t\tif(__webpack_require__.o(installedChunks, chunkId) && installedChunks[chunkId]) {\n\t\t\tinstalledChunks[chunkId][0]();\n\t\t}\n\t\tinstalledChunks[chunkId] = 0;\n\t}\n\treturn __webpack_require__.O(result);\n}\n\nvar chunkLoadingGlobal = self[\"webpackChunktoa_loot_simulator\"] = self[\"webpackChunktoa_loot_simulator\"] || [];\nchunkLoadingGlobal.forEach(webpackJsonpCallback.bind(null, 0));\nchunkLoadingGlobal.push = webpackJsonpCallback.bind(null, chunkLoadingGlobal.push.bind(chunkLoadingGlobal));","// startup\n// Load entry module and return exports\n// This entry module depends on other loaded chunks and execution need to be delayed\nvar __webpack_exports__ = __webpack_require__.O(undefined, [504], function() { return __webpack_require__(6525); })\n__webpack_exports__ = __webpack_require__.O(__webpack_exports__);\n"],"names":["class","key","_createElementBlock","_hoisted_1","_createElementVNode","id","href","xmlns","height","viewBox","width","fill","d","_hoisted_2","_hoisted_3","_hoisted_4","_createTextVNode","type","_cache","$event","$data","raidLevel","min","max","style","number","teamSize","_createStaticVNode","pathInvocation","value","walkThePath","wP2Type","wP3Type","variance","numberOfRolls","_hoisted_5","autoRollInterval","autoRollStopCondition","_hoisted_6","_hoisted_7","_Fragment","_renderList","allCollLogItemsList","item","_normalizeClass","collectionLog","selectedItems","_hoisted_8","_toDisplayString","_createCommentVNode","_hoisted_9","_hoisted_10","$options","formatPurpleRate","expectedPurpleRange","_hoisted_11","toFixed","_hoisted_12","onClick","args","simulateLoot","autoRolling","stopAutoRoll","startAutoRoll","disabled","canStartAutoRoll","_hoisted_13","resetLoot","_hoisted_14","toggleExtraInfo","showExtraInfo","_hoisted_15","expectedPurplePercent","actualPurplePercent","totalPurples","dupesCount","dryStreak","_hoisted_16","drynessPercent","longestDryStreak","worstDryness","formatTotalGP","totalLootValue","_hoisted_17","logsComplete","totalLogs","greenLoggedKc","_hoisted_18","_hoisted_19","lastRolls","currentLoot","length","showHasPurpleBorder","showNewCollectionLogBorder","ref","handleClickInside","role","name","onChange","setSortOption","checked","currentSortOption","_hoisted_20","_hoisted_21","_hoisted_22","_hoisted_23","_hoisted_24","sortedCurrentLoot","index","itemName","url","target","src","imageUrl","alt","onMouseenter","showTooltip","getUniqueItemKC","onMousemove","moveTooltip","onMouseleave","hideTooltip","_hoisted_26","quantity","formatQuantity","colorClass","formattedQuantity","_hoisted_25","_hoisted_27","_hoisted_28","totalRollsDelayed","_hoisted_29","allSortOption","_hoisted_30","_hoisted_31","_hoisted_32","_hoisted_33","allLoot","_hoisted_34","sortedAllLoot","_hoisted_36","_hoisted_35","_hoisted_37","_hoisted_38","_normalizeStyle","logsCompleteDelayed","_hoisted_39","_hoisted_40","isItemObtained","getItemUrl","getItemImage","getUniqueItemKCByName","_hoisted_42","getItemQuantity","_hoisted_41","_hoisted_43","PointEntity","constructor","hp","multiplier","count","approximate","fixedPoints","this","LootResult","itemValue","NormalLootItem","divisor","urlOverride","imageUrlOverride","generateUrl","generateImageUrl","replace","UniqueLootItem","weight","minLevel","chance","LootSimulator","rng","Math","random","teamSizeScale","normalLootItems","initializeNormalLootItems","uniqueLootItems","initializeUniqueLootItems","pointEntities","initializePointEntities","uniqueJewelsList","refreshPointEntities","averageWtpLevel","scaleHp","getSkullSkipBonusHP","floor","baseHp","pathLevel","pathMultiplier","teamScale","perSkulls","round","simulateLootRoll","killCount","threadObtained","jewelsObtained","totalPoints","calculatePoints","rewardPool","getRewardPool","roll","lootResults","purpleChance","cumulativeChance","loot","uniqueLootPool","push","i","lootItem","existingItem","find","result","calculateLootQuantity","normalLootScale","tertiaryDrops","simulateTertiaryDrops","concat","newLoot","threadDropRate","calculateThreadDropRate","threadRoll","jewelDropRate","calculateJewelDropRate","jewelRoll","obtainedJewel","unownedJewels","filter","jewel","includes","clueDropRate","calculateClueDropRate","clueRoll","petDropRate","calculatePetDropRate","petRoll","baseRate","maxScalingFactor","maxKC","scalingFactor","adjustedRaidLevel","petDenominator","entity","entityPoints","applyVariance","baseValue","variancePercentage","varianceAmount","ceil","purpleDenominator","basePurpleRate","percent","trueRate","scale","calculatePointsWithMaxVariance","subtract","applyMaxVariance","getExpectedPurpleRange","minPoints","maxPoints","rewardPoolMin","rewardPoolMax","data","totalRolls","rollExecuted","hasPurple","newCollectionLog","lootSimulator","rollHistory","stopOnPurple","autoRollTimer","itemKCs","currentitemKCs","petObtained","uniqueItemsList","tertiaryItemsList","sortOptions","current","all","acquiredDates","activeDropdown","imageCache","Set","imageCacheRefs","entryModeCount","normalModeCount","expertModeCount","totalPurpleChanceSum","imageList","computed","range","isOneTimeAutoRollStopConditionMet","sortLoot","reduce","total","created","savedCurrentSortOption","localStorage","getItem","savedAllSortOption","applySorting","savedParameters","params","JSON","parse","undefined","parseInt","initializeLootSimulator","watch","validateMinMax","saveParameters","refreshLootSimulator","handler","newVal","deep","mounted","preloadImages","setTimeout","tooltip","document","getElementById","tooltipElements","querySelectorAll","forEach","element","tooltipContent","getAttribute","addEventListener","textContent","display","event","left","pageX","top","pageY","handleClickOutside","beforeUnmount","removeEventListener","methods","field","some","itemObject","image","img","Image","preloadLootImages","lootItems","Promise","resolve","loadedCount","uncachedImages","has","totalUncached","onload","onerror","add","lootType","currentDropdown","$refs","currentSortDropdown","allDropdown","allSortDropdown","contains","removeAttribute","sortOption","setItem","sort","a","b","dateA","acquiredDate","dateB","toString","formattedValue","parameters","stringify","highlightCurrentKCs","maxKCShown","allKCs","kcList","firstKC","currentKCs","currentKCsSet","map","Number","lastKCs","slice","kc","kcNum","join","isSimulating","combinedCurrentRolls","startingTotalRolls","currentPurpleChanceSum","currentKC","currentTimestamp","Date","now","probabilityOfOneOrMoreDrops","pow","foundPurple","calculateOverallDrynessPercent","parseFloat","updateCollectionLog","Object","values","mergeLootResults","recheckAutoCondition","calculateDupes","selectedItem","totalDupes","cumulativeDrynessProbability","probabilityOfZeroDrops","newItem","findIndex","updatedItem","splice","keys","autoRollWithDynamicInterval","startTime","autoRollSimulate","endTime","elapsedTime","remainingTime","isAllUniquesObtained","areAllSelectedItemsObtained","every","console","log","__exports__","render","createApp","App","mount","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","exports","module","__webpack_modules__","call","m","deferred","O","chunkIds","fn","priority","notFulfilled","Infinity","fulfilled","j","r","n","getter","__esModule","definition","o","defineProperty","enumerable","get","g","globalThis","Function","e","window","obj","prop","prototype","hasOwnProperty","installedChunks","chunkId","webpackJsonpCallback","parentChunkLoadingFunction","moreModules","runtime","chunkLoadingGlobal","self","bind","__webpack_exports__"],"sourceRoot":""}