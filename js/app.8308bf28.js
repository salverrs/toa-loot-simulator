(function(){"use strict";var t={6525:function(t,e,o){var l=o(5130),i=o(6768),a=o(4232);const s={class:"app-wrapper"},n={class:"main-container"},r={class:"parameters"},u={class:"parameter-controls"},h={class:"parameter-controls"},c={key:0,class:"choose-items-container"},p={class:"checkboxes"},d=["value"],m={class:"expected-purple-rate"},g={key:0},v={key:1},L={class:"parameter-generation"},y=["disabled"],w={class:"dynamic-tooltip","data-tooltip-content":"Toggle Info"},k={class:"dynamic-tooltip underlined","data-tooltip-content":"Estimations averaged across all rolls"},f={class:"dynamic-tooltip underlined","data-tooltip-content":"Chance of receiving 1 or more purple (%)"},C={class:"dynamic-tooltip underlined","data-tooltip-content":"Excluding Challenge Rewards and Icthlarin's shroud"},S={class:"loot-panel-container"},b={class:"title-text"},P=["checked"],I=["checked"],R=["checked"],x=["checked"],O={key:0,class:"loot-grid"},T=["href"],M=["src","alt","onMouseenter","onMousemove","onMouseleave"],D={key:1,class:"subtitle-text"},_={class:"title-text"},E={class:"all-loot"},A=["checked"],q=["checked"],N=["checked"],U=["checked"],z={key:0,class:"loot-grid"},V=["href"],$=["src","alt","onMouseenter","onMousemove","onMouseleave"],K={key:1,class:"subtitle-text"},B={class:"title-text"},W={class:"collection-log"},H={key:0,class:"loot-grid"},F=["href"],X=["src","alt","onMouseenter"],Q={key:1,class:"subtitle-text"};function j(t,e,o,j,J,G){return(0,i.uX)(),(0,i.CE)("div",s,[e[56]||(e[56]=(0,i.Lk)("span",{id:"tooltip",class:"custom-tooltip"},null,-1)),e[57]||(e[57]=(0,i.Lk)("a",{class:"switch-simulator",href:"https://salverrs.github.io/cox-loot-simulator/"},[(0,i.Lk)("span",null,"CoX"),(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",height:"16px",viewBox:"0 -960 960 960",width:"16px",fill:"#e8eaed"},[(0,i.Lk)("path",{d:"M504-480 320-664l56-56 240 240-240 240-56-56 184-184Z"})])],-1)),e[58]||(e[58]=(0,i.Lk)("header",null,[(0,i.Lk)("h1",null,"Tombs of Amascut Loot Simulator")],-1)),(0,i.Lk)("div",n,[(0,i.Lk)("div",r,[(0,i.Lk)("div",u,[(0,i.Lk)("label",null,[e[27]||(e[27]=(0,i.eW)("Raid Level: ")),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":e[0]||(e[0]=t=>J.raidLevel=t),min:"0",max:"600",style:{"max-width":"6rem"}},null,512),[[l.Jo,J.raidLevel,void 0,{number:!0}]])]),(0,i.Lk)("label",null,[e[29]||(e[29]=(0,i.eW)("Team Size: ")),(0,i.bo)((0,i.Lk)("select",{type:"number","onUpdate:modelValue":e[1]||(e[1]=t=>J.teamSize=t),style:{"max-width":"80px"}},e[28]||(e[28]=[(0,i.Fv)('<option value="1">1</option><option value="2">2</option><option value="3">3</option><option value="4">4</option><option value="5">5</option><option value="6">6</option><option value="7">7</option><option value="8">8</option>',8)]),512),[[l.u1,J.teamSize,void 0,{number:!0}]])]),(0,i.Lk)("label",null,[e[31]||(e[31]=(0,i.eW)("Path Invocation Level: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[2]||(e[2]=t=>J.pathInvocation=t),style:{"max-width":"180px"}},e[30]||(e[30]=[(0,i.Lk)("option",{value:"0"},"None",-1),(0,i.Lk)("option",{value:"1"},"Pathseeker",-1),(0,i.Lk)("option",{value:"2"},"Pathfinder",-1),(0,i.Lk)("option",{value:"3"},"Pathmaster",-1)]),512),[[l.u1,J.pathInvocation]])]),(0,i.Lk)("label",null,[e[33]||(e[33]=(0,i.eW)("Walk the Path: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[3]||(e[3]=t=>J.walkThePath=t)},e[32]||(e[32]=[(0,i.Lk)("option",{value:"disabled"},"Disabled",-1),(0,i.Lk)("option",{value:"enabled"},"Enabled",-1)]),512),[[l.u1,J.walkThePath]])]),(0,i.Lk)("label",null,[e[35]||(e[35]=(0,i.eW)("Warden P2: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[4]||(e[4]=t=>J.wP2Type=t)},e[34]||(e[34]=[(0,i.Lk)("option",{value:"2down"},"2 Down",-1),(0,i.Lk)("option",{value:"3down"},"3 Down",-1)]),512),[[l.u1,J.wP2Type]])]),(0,i.Lk)("label",null,[e[37]||(e[37]=(0,i.eW)("Warden P3: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[5]||(e[5]=t=>J.wP3Type=t)},e[36]||(e[36]=[(0,i.Lk)("option",{value:"skullskipno"},"No Skull Skip",-1),(0,i.Lk)("option",{value:"skullskipyes"},"Skull Skip",-1)]),512),[[l.u1,J.wP3Type]])]),(0,i.Lk)("label",null,[e[38]||(e[38]=(0,i.Lk)("span",{class:"dynamic-tooltip underlined","data-tooltip-content":"Max point variance (%) range for variable point entities"},"PV (%):",-1)),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":e[6]||(e[6]=t=>J.variance=t),min:"0",max:"200",style:{"max-width":"80px"}},null,512),[[l.Jo,J.variance,void 0,{number:!0}]])]),(0,i.Lk)("label",null,[e[39]||(e[39]=(0,i.eW)("Rolls: ")),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":e[7]||(e[7]=t=>J.numberOfRolls=t),min:"1",max:"10000",style:{"max-width":"80px"}},null,512),[[l.Jo,J.numberOfRolls,void 0,{number:!0}]])])]),(0,i.Lk)("div",h,[(0,i.Lk)("label",null,[e[40]||(e[40]=(0,i.eW)("Auto Roll Interval (ms): ")),(0,i.bo)((0,i.Lk)("input",{type:"number","onUpdate:modelValue":e[8]||(e[8]=t=>J.autoRollInterval=t),min:"1",max:"3600000",style:{"max-width":"100px"}},null,512),[[l.Jo,J.autoRollInterval,void 0,{number:!0}]])]),(0,i.Lk)("label",null,[e[42]||(e[42]=(0,i.eW)("Auto Roll Stop: ")),(0,i.bo)((0,i.Lk)("select",{"onUpdate:modelValue":e[9]||(e[9]=t=>J.autoRollStopCondition=t)},e[41]||(e[41]=[(0,i.Fv)('<option value="never">Never</option><option value="purple">Purple</option><option value="pet">Pet</option><option value="newCollectionLog">New Collection Log</option><option value="allUniques">All Purples</option><option value="log">Green Logged</option><option value="chooseItemsAny">Choose Items (Any)</option><option value="chooseItemsAll">Choose Items (All)</option>',8)]),512),[[l.u1,J.autoRollStopCondition]])]),"chooseItemsAny"===J.autoRollStopCondition||"chooseItemsAll"===J.autoRollStopCondition?((0,i.uX)(),(0,i.CE)("div",c,[(0,i.Lk)("div",p,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(J.allCollLogItemsList,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:"checkbox-item"},[(0,i.Lk)("label",{class:(0,a.C4)({"greyed-out":J.collectionLog[t]})},[(0,i.bo)((0,i.Lk)("input",{type:"checkbox",value:t,"onUpdate:modelValue":e[10]||(e[10]=t=>J.selectedItems=t)},null,8,d),[[l.lH,J.selectedItems]]),(0,i.eW)(" "+(0,a.v_)(t),1)],2)])))),128))])])):(0,i.Q3)("",!0)]),(0,i.Lk)("div",m,[e[43]||(e[43]=(0,i.eW)(" Estimated Purple Rate:Â  ")),J.variance>0?((0,i.uX)(),(0,i.CE)("span",g,(0,a.v_)(G.formatPurpleRate(G.expectedPurpleRange.min,G.expectedPurpleRange.max)),1)):((0,i.uX)(),(0,i.CE)("span",v,(0,a.v_)(G.expectedPurpleRange.max.toFixed(2))+"% ",1))]),(0,i.Lk)("div",L,[(0,i.Lk)("button",{onClick:e[11]||(e[11]=(...t)=>G.simulateLoot&&G.simulateLoot(...t))},"Roll"),(0,i.Lk)("button",{onClick:e[12]||(e[12]=t=>J.autoRolling?G.stopAutoRoll():G.startAutoRoll()),disabled:!G.canStartAutoRoll&&!J.autoRolling,class:(0,a.C4)({"stop-button":J.autoRolling,"disabled-button":!G.canStartAutoRoll&&!J.autoRolling})},(0,a.v_)(J.autoRolling?"Stop Auto Roll":"Start Auto Roll"),11,y),(0,i.Lk)("button",{onClick:e[13]||(e[13]=(...t)=>G.resetLoot&&G.resetLoot(...t)),style:{"background-color":"orange"}}," Reset ")])]),(0,i.Lk)("span",w,[(0,i.Lk)("button",{onClick:e[14]||(e[14]=(...t)=>G.toggleExtraInfo&&G.toggleExtraInfo(...t)),class:"toggle-extra-info","aria-label":"Toggle Info"},e[44]||(e[44]=[(0,i.Lk)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",fill:"currentColor",class:"bi bi-info-lg",viewBox:"0 0 16 16"},[(0,i.Lk)("path",{d:"m9.708 6.075-3.024.379-.108.502.595.108c.387.093.464.232.38.619l-.975 4.577c-.255 1.183.14 1.74 1.067 1.74.72 0 1.554-.332 1.933-.789l.116-.549c-.263.232-.65.325-.905.325-.363 0-.494-.255-.402-.704zm.091-2.755a1.32 1.32 0 1 1-2.64 0 1.32 1.32 0 0 1 2.64 0"})],-1)]))]),(0,i.Lk)("div",{class:(0,a.C4)(["extra-info",J.showExtraInfo?"visible":"hidden"])},[(0,i.Lk)("span",k," Expected Purples: "+(0,a.v_)(J.expectedPurplePercent.toFixed(2))+"% ",1),(0,i.Lk)("span",null,"Actual Purples: "+(0,a.v_)(J.actualPurplePercent.toFixed(2))+"%",1),(0,i.Lk)("span",null,"Total Purples: "+(0,a.v_)(J.totalPurples),1),(0,i.Lk)("span",null,"Dupe Purples: "+(0,a.v_)(J.dupesCount),1),(0,i.Lk)("span",null,"Dry Streak: "+(0,a.v_)(J.dryStreak),1),(0,i.Lk)("span",f," Dryness: "+(0,a.v_)(J.drynessPercent.toFixed(2))+"% ",1),(0,i.Lk)("span",null,"Longest Dry Streak: "+(0,a.v_)(J.longestDryStreak),1),(0,i.Lk)("span",null,"Worst Dryness: "+(0,a.v_)(J.worstDryness.toFixed(2))+"%",1),(0,i.Lk)("span",null,"Total Value: "+(0,a.v_)(G.formatTotalGP(G.totalLootValue)),1),(0,i.Lk)("span",C,[(0,i.eW)("Logs Complete: "+(0,a.v_)(J.logsComplete)+"/"+(0,a.v_)(J.totalLogs),1),J.logsComplete>=J.totalLogs?((0,i.uX)(),(0,i.CE)(i.FK,{key:0},[(0,i.eW)(" ("+(0,a.v_)(J.greenLoggedKc)+"kc)",1)],64)):(0,i.Q3)("",!0)])],2),(0,i.Lk)("div",S,[(0,i.Lk)("h2",b," Loot from "+(0,a.v_)(J.lastRolls)+" "+(0,a.v_)(1===J.lastRolls?"roll":"rolls"),1),(0,i.Lk)("div",{class:(0,a.C4)(["loot-results",{"no-border":!J.currentLoot.length,"white-border":J.currentLoot.length&&!J.showHasPurpleBorder&&!J.showNewCollectionLogBorder,"coll-log-border":J.currentLoot.length&&!J.showHasPurpleBorder&&J.showNewCollectionLogBorder,"purple-border":J.showHasPurpleBorder}])},[(0,i.Lk)("details",{ref:"currentSortDropdown",class:"dropdown sort-dropdown",onClick:e[19]||(e[19]=t=>G.handleClickInside("current"))},[e[49]||(e[49]=(0,i.Lk)("summary",{role:"button"},[(0,i.Lk)("i",{class:"fa fa-sort"})],-1)),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionCurrent",value:"valueDesc",onChange:e[15]||(e[15]=t=>G.setSortOption("current","valueDesc")),checked:"valueDesc"===J.currentSortOption},null,40,P),e[45]||(e[45]=(0,i.eW)(" Value (Highest) "))])]),(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionCurrent",value:"valueAsc",onChange:e[16]||(e[16]=t=>G.setSortOption("current","valueAsc")),checked:"valueAsc"===J.currentSortOption},null,40,I),e[46]||(e[46]=(0,i.eW)(" Value (Lowest) "))])]),(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionCurrent",value:"obtainedDesc",onChange:e[17]||(e[17]=t=>G.setSortOption("current","obtainedDesc")),checked:"obtainedDesc"===J.currentSortOption},null,40,R),e[47]||(e[47]=(0,i.eW)(" Newest "))])]),(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionCurrent",value:"obtainedAsc",onChange:e[18]||(e[18]=t=>G.setSortOption("current","obtainedAsc")),checked:"obtainedAsc"===J.currentSortOption},null,40,x),e[48]||(e[48]=(0,i.eW)(" Oldest "))])])])],512),J.currentLoot.length?((0,i.uX)(),(0,i.CE)("div",O,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(G.sortedCurrentLoot,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{key:t.itemName,class:"loot-item"},[(0,i.Lk)("a",{href:t.url,target:"_blank",style:{"text-decoration":"none"}},[(0,i.Lk)("img",{src:t.imageUrl,alt:t.itemName,class:"loot-image",onMouseenter:e=>("unique"===t.type||"tertiary"===t.type)&&G.showTooltip(e,G.getUniqueItemKC(t,!0)),onMousemove:e=>("unique"===t.type||"tertiary"===t.type)&&G.moveTooltip(e),onMouseleave:e=>("unique"===t.type||"tertiary"===t.type)&&G.hideTooltip()},null,40,M),t.quantity>1?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["quantity-text",G.formatQuantity(t).colorClass])},(0,a.v_)(G.formatQuantity(t).formattedQuantity),3)):(0,i.Q3)("",!0)],8,T)])))),128))])):((0,i.uX)(),(0,i.CE)("p",D,"No loot roll yet"))],2),(0,i.Lk)("h2",_," Loot from "+(0,a.v_)(J.totalRollsDelayed)+" "+(0,a.v_)(1===J.totalRollsDelayed?"roll":"rolls"),1),(0,i.Lk)("div",E,[(0,i.Lk)("details",{ref:"allSortDropdown",class:"dropdown sort-dropdown",onClick:e[24]||(e[24]=t=>G.handleClickInside("all"))},[e[54]||(e[54]=(0,i.Lk)("summary",{role:"button"},[(0,i.Lk)("i",{class:"fa fa-sort"})],-1)),(0,i.Lk)("ul",null,[(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionAll",value:"valueDesc",onChange:e[20]||(e[20]=t=>G.setSortOption("all","valueDesc")),checked:"valueDesc"===J.allSortOption},null,40,A),e[50]||(e[50]=(0,i.eW)(" Value (Highest) "))])]),(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionAll",value:"valueAsc",onChange:e[21]||(e[21]=t=>G.setSortOption("all","valueAsc")),checked:"valueAsc"===J.allSortOption},null,40,q),e[51]||(e[51]=(0,i.eW)(" Value (Lowest) "))])]),(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionAll",value:"obtainedDesc",onChange:e[22]||(e[22]=t=>G.setSortOption("all","obtainedDesc")),checked:"obtainedDesc"===J.allSortOption},null,40,N),e[52]||(e[52]=(0,i.eW)(" Newest "))])]),(0,i.Lk)("li",null,[(0,i.Lk)("label",null,[(0,i.Lk)("input",{type:"radio",name:"sortOptionAll",value:"obtainedAsc",onChange:e[23]||(e[23]=t=>G.setSortOption("all","obtainedAsc")),checked:"obtainedAsc"===J.allSortOption},null,40,U),e[53]||(e[53]=(0,i.eW)(" Oldest "))])])])],512),J.allLoot.length?((0,i.uX)(),(0,i.CE)("div",z,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(G.sortedAllLoot,((t,e)=>((0,i.uX)(),(0,i.CE)("div",{key:t.itemName,class:"loot-item"},[(0,i.Lk)("a",{href:t.url,target:"_blank",style:{"text-decoration":"none"}},[(0,i.Lk)("img",{src:t.imageUrl,alt:t.itemName,class:"loot-image",onMouseenter:e=>("unique"===t.type||"tertiary"===t.type)&&G.showTooltip(e,G.getUniqueItemKC(t,!0)),onMousemove:e=>("unique"===t.type||"tertiary"===t.type)&&G.moveTooltip(e),onMouseleave:e=>("unique"===t.type||"tertiary"===t.type)&&G.hideTooltip()},null,40,$),t.quantity>1?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["quantity-text",G.formatQuantity(t).colorClass])},(0,a.v_)(G.formatQuantity(t).formattedQuantity),3)):(0,i.Q3)("",!0)],8,V)])))),128))])):((0,i.uX)(),(0,i.CE)("p",K,"No loot results yet"))]),(0,i.Lk)("h2",B,[e[55]||(e[55]=(0,i.eW)(" Collection Log ")),(0,i.Lk)("span",{style:(0,a.Tr)({color:J.logsCompleteDelayed>=J.totalLogs?"#6bb537":""})},"("+(0,a.v_)(J.logsCompleteDelayed)+"/"+(0,a.v_)(J.totalLogs)+")",5)]),(0,i.Lk)("div",W,[J.allCollLogItemsList.length?((0,i.uX)(),(0,i.CE)("div",H,[((0,i.uX)(!0),(0,i.CE)(i.FK,null,(0,i.pI)(J.allCollLogItemsList,(t=>((0,i.uX)(),(0,i.CE)("div",{key:t,class:(0,a.C4)(["loot-item",{"obtained-item":G.isItemObtained(t),"not-obtained-item":!G.isItemObtained(t)}])},[(0,i.Lk)("a",{href:G.getItemUrl(t),target:"_blank",style:{"text-decoration":"none"}},[(0,i.Lk)("img",{src:G.getItemImage(t),alt:t,class:"loot-image",onMouseenter:e=>G.showTooltip(e,G.getUniqueItemKCByName(t)),onMousemove:e[25]||(e[25]=t=>G.moveTooltip(t)),onMouseleave:e[26]||(e[26]=(...t)=>G.hideTooltip&&G.hideTooltip(...t))},null,40,X),G.getItemQuantity(t)>1?((0,i.uX)(),(0,i.CE)("span",{key:0,class:(0,a.C4)(["quantity-text",G.formatQuantity({itemName:t,quantity:G.getItemQuantity(t)}).colorClass])},(0,a.v_)(G.formatQuantity({itemName:t,quantity:G.getItemQuantity(t)}).formattedQuantity),3)):(0,i.Q3)("",!0)],8,F)],2)))),128))])):((0,i.uX)(),(0,i.CE)("p",Q,"No collection log items"))])])])])}o(4114),o(7642),o(8004),o(3853),o(5876),o(2475),o(5024),o(1698);class J{constructor(t,e,o,l=1,i=!1,a=0){this.name=t,this.hp=e,this.multiplier=o,this.count=l,this.approximate=i,this.fixedPoints=a}}class G{constructor(t,e,o,l,i,a){this.itemName=t,this.quantity=e,this.itemValue=o,this.imageUrl=l,this.url=i,this.type=a}}class Y{constructor(t,e,o,l=null,i=null){this.itemName=t,this.divisor=e,this.itemValue=o,this.quantity=0,this.url=l||this.generateUrl(t),this.imageUrl=i||this.generateImageUrl(t)}generateUrl(t){return`https://oldschool.runescape.wiki/w/${t.replace(/\s/g,"_")}`}generateImageUrl(t){return`images/${t.replace(/\s/g,"_")}.png`}}class Z{constructor(t,e,o,l,i=null,a=null){this.itemName=t,this.weight=e,this.itemValue=o,this.minLevel=l,this.chance=0,this.url=i||this.generateUrl(t),this.imageUrl=a||this.generateImageUrl(t)}generateUrl(t){return`https://oldschool.runescape.wiki/w/${t.replace(/\s/g,"_")}`}generateImageUrl(t){return`images/${t.replace(/\s/g,"_")}.png`}}class tt{constructor(t,e,o,l,i,a,s){this.raidLevel=t,this.teamSize=e,this.pathInvocation=o,this.walkThePath=l,this.wP2Type=i,this.wP3Type=a,this.variance=s,this.rng=Math.random,this.teamSizeScale={1:1,2:1.9,3:2.8,4:3.4,5:4,6:4.6,7:5.2,8:5.8},this.normalLootItems=this.initializeNormalLootItems(),this.uniqueLootItems=this.initializeUniqueLootItems(),this.pointEntities=this.initializePointEntities(),this.uniqueJewelsList=["Eye of the corruptor","Jewel of the sun","Breach of the scarab"]}initializeNormalLootItems(){return[new Y("Coins",1,1,null),new Y("Death rune",20,192),new Y("Soul rune",40,178),new Y("Gold ore",90,177),new Y("Dragon dart tip",100,2210),new Y("Mahogany logs",180,546),new Y("Sapphire",200,227),new Y("Emerald",250,406),new Y("Gold bar",250,112),new Y("Potato cactus",250,57),new Y("Raw shark",250,663),new Y("Ruby",300,824),new Y("Diamond",400,1744),new Y("Raw manta ray",450,1547),new Y("Cactus spine",600,1938),new Y("Dragonstone",600,11674),new Y("Battlestaff",1100,8352),new Y("Coconut milk",1100,183),new Y("Lily of the sands",1100,1971),new Y("Toadflax seed",1400,1013),new Y("Ranarr seed",1800,34182),new Y("Torstol seed",2200,12228),new Y("Snapdragon seed",2200,46506),new Y("Dragon med helm",4e3,58971),new Y("Magic seed",6500,75446),new Y("Blood essence",7500,61662),new Y("Cache of runes",999999,0)]}initializeUniqueLootItems(){return[new Z("Tumeken's shadow",1,1195104541,150),new Z("Masori mask",2,7808199,150),new Z("Masori body",2,61661075,150),new Z("Masori chaps",2,45378618,150),new Z("Elidinis' ward",3,4559701,150),new Z("Osmumten's fang",7,12489797,50),new Z("Lightbearer",7,1892527,50)]}refreshPointEntities(){this.pointEntities=this.initializePointEntities()}initializePointEntities(){const t={0:0,1:this.walkThePath?4/6:0,2:this.walkThePath?7/6:0,3:this.walkThePath?13/6:0};return[new J("Akkha",this.scaleHp(480,this.pathInvocation+t[3]),1),new J("Akkha's Shadow",this.scaleHp(70,this.pathInvocation+t[3]),1,4),new J("Baboons",this.scaleHp(300,0),1.2,1,!0),new J("Ba-Ba",this.scaleHp(380,this.pathInvocation+t[0]),2,1,this.walkThePath),new J("Zebak",this.scaleHp(580,this.pathInvocation+t[2]),1.5,1,this.walkThePath),new J("Scarab Swarms",200,1,1,!0),new J("Scarabs",200,.5,1,!0),new J("Kephri's Shield",this.scaleHp(375,this.pathInvocation+t[1]),1,1,!0),new J("Kephri",this.scaleHp(130,this.pathInvocation+t[1]),1,1,this.walkThePath),new J("P1 Obelisk",this.scaleHp(260,0),1.5),new J("P2 Warden",this.scaleHp(140,0),2,"3down"===this.wP2Type?3:2),new J("P3 Warden",this.scaleHp(880,0)+this.getSkullSkipBonusHP(880),2.5),new J("Misc. damage",80*this.teamSize,1,1,!0),new J("Het - seal mining",130+Math.floor(95.81*(this.teamSize-1)),2.5,1,!1),new J("Scabaras - puzzles",0,1,1,!0,300*this.teamSize),new J("Apmeken - traps",0,1,1,!0,450*this.teamSize),new J("Crondis - palm watering",0,1,1,!1,400*this.teamSize),new J("MVP",0,1,1,!1,2700*this.teamSize)]}scaleHp(t,e){let o=e>0?1.03+.05*e:1,l=this.teamSizeScale[this.teamSize];return Math.floor(t*(1+this.raidLevel/250)*l*o)}getSkullSkipBonusHP(t){if("skullskipyes"!==this.wP3Type)return 0;const e=10*Math.round(.05*this.scaleHp(t,0)/10);return 4*e}simulateLootRoll(t,e,o){const l=Math.max(this.calculatePoints(),0),i=this.getRewardPool(l),a=this.rng();let s=[];if(a<i.purpleChance){let t=0;for(let e of i.uniqueLootPool)if(t+=e.chance,a<t){s.push(new G(e.item.itemName,1,e.item.itemValue,e.item.imageUrl,e.item.url,"unique"));break}}else for(let r=0;r<3;r++){const t=Math.floor(this.rng()*this.normalLootItems.length),e=this.normalLootItems[t],o=s.find((t=>t.itemName===e.itemName));o?o.quantity+=this.calculateLootQuantity(l,e.divisor,i.normalLootScale):s.push(new G(e.itemName,this.calculateLootQuantity(l,e.divisor,i.normalLootScale),e.itemValue,e.imageUrl,e.url,"normal"))}const n=this.simulateTertiaryDrops(t,e,o,l);return s=s.concat(n.newLoot),e=n.threadObtained,o=n.jewelsObtained,{lootResults:s,totalPoints:l,threadObtained:e,jewelsObtained:o}}simulateTertiaryDrops(t,e,o,l){let i=[];const a=this.calculateThreadDropRate(t,e),s=this.rng();s<a&&(e||(e=!0),i.push(new G("Thread of elidinis",1,0,this.generateImageUrl("Thread of elidinis"),this.generateUrl("Thread of elidinis"),"tertiary")));const n=this.calculateJewelDropRate(t),r=this.rng();if(r<n){let t,e=this.uniqueJewelsList.filter((t=>!o.includes(t)));e.length>0?(t=e[Math.floor(this.rng()*e.length)],o.push(t)):t=this.uniqueJewelsList[Math.floor(this.rng()*this.uniqueJewelsList.length)],i.push(new G(t,1,0,this.generateImageUrl(t),this.generateUrl(t),"tertiary"))}const u=this.calculateClueDropRate(),h=this.rng();h<u&&i.push(new G("Clue scroll (elite)",1,0,this.generateImageUrl("Clue scroll (elite)"),this.generateUrl("Clue scroll (elite)"),"tertiary"));const c=this.calculatePetDropRate(l),p=this.rng();return p<c&&i.push(new G("Tumeken's guardian",1,0,this.generateImageUrl("Tumeken's guardian"),this.generateUrl("Tumeken's guardian"),"tertiary")),{newLoot:i,threadObtained:e,jewelsObtained:o}}calculateThreadDropRate(t,e){if(e)return.02;{const e=.1,o=3,l=15,i=t<=l?1+2*t/l:o;return e*i}}calculateJewelDropRate(t){const e=1/60,o=3,l=270,i=t<=l?1+2*t/l:o;return e*i}calculateClueDropRate(){return 1/15}calculatePetDropRate(t){const e=this.raidLevel>400?400+Math.floor((this.raidLevel-400)/3):this.raidLevel,o=100*(35e4-700*e);return t/o/this.teamSize}calculatePoints(){let t=0;for(let e of this.pointEntities){let o=e.fixedPoints>0?e.fixedPoints:Math.floor(e.hp*e.multiplier*e.count);e.approximate&&(o=this.applyVariance(o,this.variance)),t+=o}return t}applyVariance(t,e){const o=t*(e/100),l=Math.floor(t-o),i=Math.ceil(t+o);return Math.floor(Math.random()*(i-l+1))+l}getRewardPool(t){const e=this.raidLevel>400?400+Math.floor((this.raidLevel-400)/3):this.raidLevel,o=Math.max(100*(10500-20*e),15e4),l=Math.min(t/o,.55),i=[];let a=0,s=1;if(this.raidLevel<150)s=.75;else if(this.raidLevel>=300){let t=Math.floor((this.raidLevel-300)/5)+15;s=1+t/100}for(let n of this.uniqueLootItems){let t=l*n.weight/24;this.raidLevel<n.minLevel&&(t/=50),a+=t/this.teamSize,i.push({item:n,chance:t/this.teamSize})}return{normalLootScale:s,uniqueLootPool:i,purpleChance:a}}calculateLootQuantity(t,e,o){let l=Math.floor(t/this.teamSize/e);return l=Math.floor(l*o),Math.max(l,1)}calculatePointsWithMaxVariance(t=!1){let e=0;for(let o of this.pointEntities){let l=o.fixedPoints>0?o.fixedPoints:Math.floor(o.hp*o.multiplier*o.count);o.approximate&&(l=this.applyMaxVariance(l,t)),e+=l}return e}applyMaxVariance(t,e){const o=t*(this.variance/100);return e?Math.floor(t-o):Math.ceil(t+o)}getExpectedPurpleRange(){const t=Math.max(this.calculatePointsWithMaxVariance(!0),0),e=this.calculatePointsWithMaxVariance(!1),o=this.getRewardPool(t),l=this.getRewardPool(e);return{min:100*o.purpleChance,max:100*l.purpleChance}}generateUrl(t){return`https://oldschool.runescape.wiki/w/${t.replace(/\s/g,"_")}`}generateImageUrl(t){return`images/${t.replace(/\s/g,"_")}.png`}}var et=tt,ot={data(){return{raidLevel:300,teamSize:1,pathInvocation:0,walkThePath:"disabled",wP2Type:"2down",wP3Type:"skullskipno",numberOfRolls:1,lastRolls:0,currentLoot:[],allLoot:[],totalRolls:0,totalRollsDelayed:0,rollExecuted:!1,hasPurple:!1,newCollectionLog:!1,showHasPurpleBorder:!1,showNewCollectionLogBorder:!1,lootSimulator:null,dryStreak:0,longestDryStreak:0,drynessPercent:0,worstDryness:0,logsComplete:0,logsCompleteDelayed:0,greenLoggedKc:-1,totalLogs:12,variance:5,rollHistory:[],autoRolling:!1,autoRollInterval:300,stopOnPurple:!0,autoRollTimer:null,totalPurples:0,itemKCs:{},currentitemKCs:{},petObtained:!1,showExtraInfo:!1,autoRollStopCondition:"purple",collectionLog:{},uniqueItemsList:["Tumeken's shadow","Masori mask","Masori body","Masori chaps","Elidinis' ward","Osmumten's fang","Lightbearer"],tertiaryItemsList:["Tumeken's guardian","Thread of elidinis","Eye of the corruptor","Jewel of the sun","Breach of the scarab"],allCollLogItemsList:["Tumeken's shadow","Masori mask","Masori body","Masori chaps","Elidinis' ward","Osmumten's fang","Lightbearer","Tumeken's guardian","Thread of elidinis","Eye of the corruptor","Jewel of the sun","Breach of the scarab"],selectedItems:[],threadObtained:!1,jewelsObtained:[],sortOptions:{current:"valueDesc",all:"valueDesc"},acquiredDates:{current:{},all:{}},currentSortOption:"valueDesc",allSortOption:"valueDesc",activeDropdown:null,imageCache:new Set,imageCacheRefs:new Set,entryModeCount:0,normalModeCount:0,expertModeCount:0,expectedPurplePercent:0,actualPurplePercent:0,totalPurpleChanceSum:0,dupesCount:0,imageList:["Battlestaff.png","Blood_essence.png","Breach_of_the_scarab.png","Cache_of_runes.png","Cactus_spine.png","Clue_scroll_(elite).png","Coconut_milk.png","Coins.png","Death_rune.png","Diamond.png","Dragonstone.png","Dragon_dart_tip.png","Dragon_med_helm.png","Elidinis'_ward.png","Emerald.png","Eye_of_the_corruptor.png","Gold_bar.png","Gold_ore.png","Jewel_of_the_sun.png","Lightbearer.png","Lily_of_the_sands.png","Magic_seed.png","Mahogany_logs.png","Masori_body.png","Masori_chaps.png","Masori_mask.png","Osmumten's_fang.png","Potato_cactus.png","Ranarr_seed.png","Raw_manta_ray.png","Raw_shark.png","Ruby.png","Sapphire.png","Snapdragon_seed.png","Soul_rune.png","Thread_of_elidinis.png","Toadflax_seed.png","Torstol_seed.png","Tumeken's_guardian.png","Tumeken's_shadow.png"]}},computed:{expectedPurpleRange(){if(!this.lootSimulator)return{min:0,max:0};const t=this.lootSimulator.getExpectedPurpleRange();return{min:t.min,max:t.max}},canStartAutoRoll(){return!!("chooseItemsAny"!==this.autoRollStopCondition&&"chooseItemsAll"!==this.autoRollStopCondition||this.selectedItems&&0!==this.selectedItems.length)&&!this.isOneTimeAutoRollStopConditionMet()},sortedCurrentLoot(){return this.sortLoot(this.currentLoot,this.currentSortOption)},sortedAllLoot(){return this.sortLoot(this.allLoot,this.allSortOption)},totalLootValue(){return this.allLoot.reduce(((t,e)=>t+e.itemValue*e.quantity),0)}},created(){const t=localStorage.getItem("currentSortOption"),e=localStorage.getItem("allSortOption");this.currentSortOption=t||"valueDesc",this.allSortOption=e||"valueDesc",this.applySorting("current"),this.applySorting("all");const o=localStorage.getItem("savedParameters");if(o){const t=JSON.parse(o);this.numberOfRolls=void 0!==t.numberOfRolls?parseInt(t.numberOfRolls):1,this.autoRollStopCondition=t.autoRollStopCondition||"purple",this.raidLevel=void 0!==t.raidLevel?parseInt(t.raidLevel):300,this.teamSize=void 0!==t.teamSize?parseInt(t.teamSize):1,this.pathInvocation=void 0!==t.pathInvocation?parseInt(t.pathInvocation):0,this.walkThePath=void 0!==t.walkThePath?t.walkThePath:"disabled",this.wP2Type=void 0!==t.wP2Type?t.wP2Type:"2down",this.wP3Type=void 0!==t.wP3Type?t.wP3Type:"skullskipno",this.variance=void 0!==t.variance?parseInt(t.variance):5,this.autoRollInterval=void 0!==t.autoRollInterval?parseInt(t.autoRollInterval):300,this.selectedItems=void 0!==t.selectedItems?t.selectedItems:[]}this.initializeLootSimulator()},watch:{autoRollStopCondition:"saveParameters",raidLevel(){this.validateMinMax("raidLevel",0,600),this.saveParameters(),this.refreshLootSimulator()},teamSize(){this.validateMinMax("teamSize",1,8),this.saveParameters(),this.refreshLootSimulator()},pathInvocation(){this.saveParameters(),this.refreshLootSimulator()},walkThePath(){this.saveParameters(),this.refreshLootSimulator()},wP2Type(){this.saveParameters(),this.refreshLootSimulator()},wP3Type(){this.saveParameters(),this.refreshLootSimulator()},variance(){this.validateMinMax("variance",0,200),this.saveParameters(),this.refreshLootSimulator()},numberOfRolls(){this.validateMinMax("numberOfRolls",1,1e4),this.saveParameters()},autoRollInterval(){this.validateMinMax("autoRollInterval",1,36e5),this.saveParameters()},selectedItems:{handler(t){this.saveParameters()},deep:!0}},mounted(){this.preloadImages(),setTimeout((()=>{this.preloadImages()}),500);const t=document.getElementById("tooltip"),e=document.querySelectorAll(".dynamic-tooltip");e.forEach((e=>{const o=e.getAttribute("data-tooltip-content");e.addEventListener("mouseenter",(()=>{t.textContent=o,t.style.display="block"})),e.addEventListener("mousemove",(e=>{t.style.left=`${e.pageX+15}px`,t.style.top=e.pageY-25+"px"})),e.addEventListener("mouseleave",(()=>{t.style.display="none"}))})),document.addEventListener("click",this.handleClickOutside)},beforeUnmount(){this.stopAutoRoll(),document.removeEventListener("click",this.handleClickOutside)},methods:{validateMinMax(t,e,o){this[t]<e?this[t]=e:this[t]>o&&(this[t]=o)},formatPurpleRate(t,e){return t.toFixed(2)!=e.toFixed(2)?`${t.toFixed(2)}% - ${e.toFixed(2)}%`:t.toFixed(3)!==e.toFixed(3)?`${t.toFixed(3)}% - ${e.toFixed(3)}%`:t.toFixed(4)!==e.toFixed(4)?`${t.toFixed(4)}% - ${e.toFixed(4)}%`:`~${t.toFixed(2)}%`},isItemObtained(t){return this.allLoot.some((e=>e.itemName===t))},getItemQuantity(t){const e=this.allLoot.find((e=>e.itemName===t));return e?e.quantity:0},getUniqueItemKCByName(t){const e=this.allLoot.find((e=>e.itemName===t));return e?this.getUniqueItemKC(e,!1):""},getItemImage(t){return`images/${t.replace(/\s/g,"_")}.png`},getItemUrl(t){return`https://oldschool.runescape.wiki/w/${t.replace(/\s/g,"_")}`},preloadImages(){this.imageList.forEach((t=>{const e=new Image;e.src=`images/${t}`}))},preloadLootImages(t){return new Promise((e=>{let o=0;const l=t.filter((t=>!this.imageCache.has(t.imageUrl))),i=l.length;0!==i?l.forEach((t=>{const l=new Image;l.src=t.imageUrl,l.onload=l.onerror=()=>{o++,this.imageCacheRefs.add(l),this.imageCache.add(t.imageUrl),o===i&&e()}})):e()}))},handleClickInside(t){this.activeDropdown=t},handleClickOutside(t){const e=this.$refs.currentSortDropdown,o=this.$refs.allSortDropdown;!this.activeDropdown||e.contains(t.target)||o.contains(t.target)||(e.removeAttribute("open"),o.removeAttribute("open"),this.activeDropdown=null)},setSortOption(t,e){"current"===t?(this.currentSortOption=e,localStorage.setItem("currentSortOption",e),this.applySorting("current"),this.$refs.currentSortDropdown.removeAttribute("open")):"all"===t&&(this.allSortOption=e,localStorage.setItem("allSortOption",e),this.applySorting("all"),this.$refs.allSortDropdown.removeAttribute("open"))},applySorting(t){"current"===t?this.currentLoot=this.sortLoot(this.currentLoot,this.currentSortOption):"all"===t&&(this.allLoot=this.sortLoot(this.allLoot,this.allSortOption))},sortLoot(t,e){return t&&0!==t.length?"valueDesc"===e?t.sort(((t,e)=>e.itemValue*e.quantity-t.itemValue*t.quantity)):"valueAsc"===e?t.sort(((t,e)=>t.itemValue*t.quantity-e.itemValue*e.quantity)):"obtainedDesc"===e?t.sort(((t,e)=>{const o=t.acquiredDate||0,l=e.acquiredDate||0;return l-o})):"obtainedAsc"===e?t.sort(((t,e)=>{const o=t.acquiredDate||0,l=e.acquiredDate||0;return o-l})):void 0:[]},formatQuantity(t){const e=t.quantity;let o=e.toString(),l="yellow";return e>=1e10?(o=`${Math.floor(e/1e9)}b`,l="green"):e>=1e7?(o=`${Math.floor(e/1e6)}m`,l="green"):e>=1e5&&(o=`${Math.floor(e/1e3)}k`,l="white"),{formattedQuantity:o,colorClass:l}},formatTotalGP(t){let e=t.toString();return t>=1e10?e=`${Math.floor(t/1e9)}b`:t>=1e7?e=`${Math.floor(t/1e6)}m`:t>=1e5&&(e=`${Math.floor(t/1e3)}k`),e},saveParameters(){const t={numberOfRolls:this.numberOfRolls,autoRollStopCondition:this.autoRollStopCondition,raidLevel:this.raidLevel,teamSize:this.teamSize,pathInvocation:this.pathInvocation,walkThePath:this.walkThePath,wP2Type:this.wP2Type,wP3Type:this.wP3Type,variance:this.variance,autoRollInterval:this.autoRollInterval,selectedItems:"chooseItemsAny"===this.autoRollStopCondition||"chooseItemsAll"===this.autoRollStopCondition?this.selectedItems:[]};localStorage.setItem("savedParameters",JSON.stringify(t))},initializeLootSimulator(){this.lootSimulator=new et(this.raidLevel,this.teamSize,this.pathInvocation,"enabled"===this.walkThePath,this.wP2Type,this.wP3Type,this.variance)},getUniqueItemKC(t,e=!1){const o=8;if("unique"===t.type||"tertiary"===t.type){const l=this.itemKCs[t.itemName]||[];let i;if(l.length>0){const a=l[0];if(e){const e=this.currentitemKCs[t.itemName]||[],s=new Set(e.map(Number)),n=l.slice(-o);return i=n.map((t=>{const e=Number(t);return s.has(e)?`[${t}]`:t})).join(", "),l.length>o?`KC: ${a}, ..., ${i}`:`KC: ${i}`}return i=l.slice(-o).join(", "),l.length>o?`KC: ${a}, ..., ${i}`:`KC: ${i}`}}return""},toggleExtraInfo(){this.showExtraInfo=!this.showExtraInfo},refreshLootSimulator(){this.lootSimulator.raidLevel=parseInt(this.raidLevel,10),this.lootSimulator.teamSize=parseInt(this.teamSize,10),this.lootSimulator.pathInvocation=parseInt(this.pathInvocation,10),this.lootSimulator.walkThePath="enabled"===this.walkThePath,this.lootSimulator.wP2Type=this.wP2Type,this.lootSimulator.wP3Type=this.wP3Type,this.lootSimulator.variance=this.variance,this.lootSimulator.refreshPointEntities()},async simulateLoot(){if(this.isSimulating)return;this.isSimulating=!0,this.refreshLootSimulator();const t={};this.hasPurple=!1,this.newCollectionLog=!1;const e=this.totalRolls;this.currentitemKCs={},this.acquiredDates.current={};let o=0;for(let l=0;l<this.numberOfRolls;l++){this.totalRolls++,this.lootSimulator.raidLevel<150?this.entryModeCount++:this.lootSimulator.raidLevel<300?this.normalModeCount++:this.expertModeCount++;const i=e+l+1,a=Date.now()+1e3*l,s=this.lootSimulator.simulateLootRoll(this.totalRolls,this.threadObtained,[...this.jewelsObtained]);this.threadObtained=s.threadObtained,this.jewelsObtained=s.jewelsObtained;const n=s.lootResults,r=this.lootSimulator.getRewardPool(s.totalPoints).purpleChance;o+=r;const u=1-Math.pow(1-r,1);let h=!1;this.rollHistory.push({raidLevel:this.raidLevel,teamSize:this.teamSize,pathInvocation:this.pathInvocation,walkThePath:this.walkThePath,wP2Type:this.wP2Type,wP3Type:this.wP3Type,purpleChance:r,probabilityOfOneOrMoreDrops:u}),n.forEach((e=>{"unique"!==e.type&&"tertiary"!==e.type||("unique"===e.type&&(this.hasPurple=!0,h=!0),"Tumeken's guardian"===e.itemName&&(this.petObtained=!0),this.itemKCs[e.itemName]||(this.itemKCs[e.itemName]=[]),this.itemKCs[e.itemName].push(i),this.currentitemKCs[e.itemName]||(this.currentitemKCs[e.itemName]=[]),this.currentitemKCs[e.itemName].push(i)),e.acquiredDate=a,t[e.itemName]?(t[e.itemName].quantity+=e.quantity,t[e.itemName].acquiredDate=a):t[e.itemName]={...e}})),h?(this.totalPurples+=1,this.dryStreak=0,this.rollHistory=[]):(this.dryStreak+=1,this.dryStreak>this.longestDryStreak&&(this.longestDryStreak=this.dryStreak)),this.drynessPercent=this.calculateOverallDrynessPercent(),parseFloat(this.drynessPercent)>parseFloat(this.worstDryness)&&(this.worstDryness=this.drynessPercent),this.updateCollectionLog(n)}this.totalPurpleChanceSum+=o,await this.preloadLootImages(Object.values(t)),this.totalRollsDelayed=this.totalRolls,this.logsCompleteDelayed=this.logsComplete,this.showHasPurpleBorder=this.hasPurple,this.showNewCollectionLogBorder=this.newCollectionLog,this.currentLoot=Object.values(t),this.mergeLootResults(this.currentLoot),this.lastRolls=this.numberOfRolls,this.rollExecuted=!0,this.totalRolls>0?this.expectedPurplePercent=this.totalPurpleChanceSum/this.totalRolls*100:this.expectedPurplePercent=0,this.totalRolls>0?this.actualPurplePercent=this.totalPurples/this.totalRolls*100:this.actualPurplePercent=0,this.recheckAutoCondition(),this.calculateDupes(),this.isSimulating=!1},recheckAutoCondition(){("chooseItemsAny"===this.autoRollStopCondition&&this.selectedItems.some((t=>this.currentLoot.some((e=>e.itemName===t))))||"newCollectionLog"===this.autoRollStopCondition&&this.newCollectionLog||"purple"===this.autoRollStopCondition&&this.hasPurple||this.isOneTimeAutoRollStopConditionMet())&&this.stopAutoRoll()},calculateDupes(){let t=0;this.uniqueItemsList.forEach((e=>{const o=this.getItemQuantity(e);o>1&&(t+=o-1)})),this.dupesCount=t},calculateOverallDrynessPercent(){let t=1;for(let o of this.rollHistory){const e=o.purpleChance,l=Math.pow(1-e,1);t*=l}const e=100*(1-t);return e},mergeLootResults(t){t.forEach((t=>{const e=this.allLoot.findIndex((e=>e.itemName===t.itemName));if(-1!==e){const o=this.allLoot[e],l={...o,quantity:o.quantity+t.quantity,type:t.type,acquiredDate:t.acquiredDate};this.allLoot.splice(e,1,l)}else this.allLoot.push({...t})}))},updateCollectionLog(t){t.forEach((t=>{"unique"!==t.type&&"tertiary"!==t.type||"Clue scroll (elite)"===t.itemName||this.collectionLog[t.itemName]||(this.collectionLog[t.itemName]=!0,this.newCollectionLog=!0)})),this.logsComplete=Object.keys(this.collectionLog).length,this.logsComplete>=this.totalLogs&&-1==this.greenLoggedKc&&(this.greenLoggedKc=this.totalRolls)},resetLoot(){this.stopAutoRoll(),this.currentLoot=[],this.allLoot=[],this.totalRolls=0,this.totalRollsDelayed=0,this.lastRolls=0,this.rollExecuted=!1,this.showHasPurpleBorder=!1,this.showNewCollectionLogBorder=!1,this.hasPurple=!1,this.newCollectionLog=!1,this.dryStreak=0,this.longestDryStreak=0,this.drynessPercent=0,this.worstDryness=0,this.rollHistory=[],this.totalPurples=0,this.itemKCs={},this.currentitemKCs={},this.petObtained=!1,this.threadObtained=!1,this.jewelsObtained=[],this.collectionLog={},this.logsComplete=0,this.logsCompleteDelayed=0,this.greenLoggedKc=-1,this.entryModeCount=0,this.normalModeCount=0,this.expertModeCount=0,this.expectedPurplePercent=0,this.actualPurplePercent=0,this.totalPurpleChanceSum=0,this.dupesCount=0,this.initializeLootSimulator()},async startAutoRoll(){if(this.autoRolling)return;if(this.isOneTimeAutoRollStopConditionMet())return;this.autoRolling=!0;const t=async()=>{if(!this.autoRolling)return;const e=Date.now();this.isSimulating||await this.autoRollSimulate();const o=Date.now(),l=o-e,i=this.autoRollInterval-l;setTimeout((()=>{t()}),Math.max(0,i))};await t()},async autoRollSimulate(){await this.simulateLoot()},stopAutoRoll(){this.autoRolling=!1},isOneTimeAutoRollStopConditionMet(){return"pet"===this.autoRollStopCondition?this.petObtained:"log"===this.autoRollStopCondition?this.logsComplete>=this.totalLogs:"allUniques"===this.autoRollStopCondition?this.isAllUniquesObtained():"chooseItemsAll"===this.autoRollStopCondition&&this.areAllSelectedItemsObtained()},showTooltip(t,e){if(!e)return;const o=document.getElementById("tooltip");o.textContent=e,o.style.display="block",this.moveTooltip(t)},moveTooltip(t){const e=document.getElementById("tooltip");e.style.left=`${t.pageX+15}px`,e.style.top=t.pageY-25+"px"},hideTooltip(){const t=document.getElementById("tooltip");t.style.display="none"},isAllUniquesObtained(){return this.uniqueItemsList.every((t=>this.collectionLog[t]))},areAllSelectedItemsObtained(){return 0===this.selectedItems.length?(console.log("No items selected."),!1):(this.selectedItems.forEach((t=>{console.log(`Checking ${t}:`,this.collectionLog[t])})),this.selectedItems.every((t=>!0===this.collectionLog[t])))}}},lt=o(1241);const it=(0,lt.A)(ot,[["render",j]]);var at=it;(0,l.Ef)(at).mount("#app")}},e={};function o(l){var i=e[l];if(void 0!==i)return i.exports;var a=e[l]={exports:{}};return t[l].call(a.exports,a,a.exports,o),a.exports}o.m=t,function(){var t=[];o.O=function(e,l,i,a){if(!l){var s=1/0;for(h=0;h<t.length;h++){l=t[h][0],i=t[h][1],a=t[h][2];for(var n=!0,r=0;r<l.length;r++)(!1&a||s>=a)&&Object.keys(o.O).every((function(t){return o.O[t](l[r])}))?l.splice(r--,1):(n=!1,a<s&&(s=a));if(n){t.splice(h--,1);var u=i();void 0!==u&&(e=u)}}return e}a=a||0;for(var h=t.length;h>0&&t[h-1][2]>a;h--)t[h]=t[h-1];t[h]=[l,i,a]}}(),function(){o.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return o.d(e,{a:e}),e}}(),function(){o.d=function(t,e){for(var l in e)o.o(e,l)&&!o.o(t,l)&&Object.defineProperty(t,l,{enumerable:!0,get:e[l]})}}(),function(){o.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){o.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={524:0};o.O.j=function(e){return 0===t[e]};var e=function(e,l){var i,a,s=l[0],n=l[1],r=l[2],u=0;if(s.some((function(e){return 0!==t[e]}))){for(i in n)o.o(n,i)&&(o.m[i]=n[i]);if(r)var h=r(o)}for(e&&e(l);u<s.length;u++)a=s[u],o.o(t,a)&&t[a]&&t[a][0](),t[a]=0;return o.O(h)},l=self["webpackChunktoa_loot_simulator"]=self["webpackChunktoa_loot_simulator"]||[];l.forEach(e.bind(null,0)),l.push=e.bind(null,l.push.bind(l))}();var l=o.O(void 0,[504],(function(){return o(6525)}));l=o.O(l)})();
//# sourceMappingURL=app.8308bf28.js.map